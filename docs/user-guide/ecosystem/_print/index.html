<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=canonical type=text/html href=https://horaedb.apache.org/docs/user-guide/ecosystem/><link rel=alternate type=application/rss+xml href=https://horaedb.apache.org/docs/user-guide/ecosystem/index.xml><meta name=robots content="noindex, nofollow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Ecosystem | Apache HoraeDB</title>
<meta name=description content="HoraeDB has an open ecosystem that encourages collaboration and innovation, allowing developers to use what suits them best."><meta property="og:url" content="https://horaedb.apache.org/docs/user-guide/ecosystem/"><meta property="og:site_name" content="Apache HoraeDB"><meta property="og:title" content="Ecosystem"><meta property="og:description" content="HoraeDB has an open ecosystem that encourages collaboration and innovation, allowing developers to use what suits them best."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta itemprop=name content="Ecosystem"><meta itemprop=description content="HoraeDB has an open ecosystem that encourages collaboration and innovation, allowing developers to use what suits them best."><meta itemprop=dateModified content="2024-08-21T10:34:40+08:00"><meta itemprop=wordCount content="18"><meta name=twitter:card content="summary"><meta name=twitter:title content="Ecosystem"><meta name=twitter:description content="HoraeDB has an open ecosystem that encourages collaboration and innovation, allowing developers to use what suits them best."><link rel=preload href=/scss/main.min.5e43f8574351718e9b44966c9f3a571202ed048c082f457fb574c10b1a1bc56c.css as=style integrity="sha256-XkP4V0NRcY6bRJZsnzpXEgLtBIwIL0V/tXTBCxobxWw=" crossorigin=anonymous><link href=/scss/main.min.5e43f8574351718e9b44966c9f3a571202ed048c082f457fb574c10b1a1bc56c.css rel=stylesheet integrity="sha256-XkP4V0NRcY6bRJZsnzpXEgLtBIwIL0V/tXTBCxobxWw=" crossorigin=anonymous><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script><script defer src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script></head><body class=td-section><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/><span class="navbar-brand__logo navbar-logo"></span><span class=navbar-brand__name>Apache HoraeDB</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class=nav-item><a class="nav-link active" href=/docs/><i class='fa-solid fa-book'></i><span>Docs</span></a></li><li class=nav-item><a class=nav-link href=/blog/><i class='fa-brands fa-blogger'></i><span>Blog</span></a></li><li class=nav-item><a class=nav-link href=/downloads/><i class='fa-solid fa-download'></i><span>Downloads</span></a></li><li class=nav-item><a class=nav-link href=/community/><span>Community</span></a></li><li class="nav-item dropdown d-none d-lg-block"><div class=dropdown><a class="nav-link dropdown-toggle" href=# role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><ul class=dropdown-menu><li><a class=dropdown-item href=/cn/docs/user-guide/ecosystem/>中文</a></li></ul></div></li><li class="td-light-dark-menu nav-item dropdown"><svg class="d-none"><symbol id="check2" viewBox="0 0 16 16"><path d="M13.854 3.646a.5.5.0 010 .708l-7 7a.5.5.0 01-.708.0l-3.5-3.5a.5.5.0 11.708-.708L6.5 10.293l6.646-6.647a.5.5.0 01.708.0z"/></symbol><symbol id="circle-half" viewBox="0 0 16 16"><path d="M8 15A7 7 0 108 1v14zm0 1A8 8 0 118 0a8 8 0 010 16z"/></symbol><symbol id="moon-stars-fill" viewBox="0 0 16 16"><path d="M6 .278a.768.768.0 01.08.858 7.208 7.208.0 00-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527.0 1.04-.055 1.533-.16a.787.787.0 01.81.316.733.733.0 01-.031.893A8.349 8.349.0 018.344 16C3.734 16 0 12.286.0 7.71.0 4.266 2.114 1.312 5.124.06A.752.752.0 016 .278z"/><path d="M10.794 3.148a.217.217.0 01.412.0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217.0 010 .412l-1.162.387A1.734 1.734.0 0011.593 7.69l-.387 1.162a.217.217.0 01-.412.0l-.387-1.162A1.734 1.734.0 009.31 6.593l-1.162-.387a.217.217.0 010-.412l1.162-.387a1.734 1.734.0 001.097-1.097l.387-1.162zM13.863.099a.145.145.0 01.274.0l.258.774c.115.346.386.617.732.732l.774.258a.145.145.0 010 .274l-.774.258a1.156 1.156.0 00-.732.732l-.258.774a.145.145.0 01-.274.0l-.258-.774a1.156 1.156.0 00-.732-.732l-.774-.258a.145.145.0 010-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/></symbol><symbol id="sun-fill" viewBox="0 0 16 16"><path d="M8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 0zm0 13a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 13zm8-5a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2a.5.5.0 01.5.5zM3 8a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2A.5.5.0 013 8zm10.657-5.657a.5.5.0 010 .707l-1.414 1.415a.5.5.0 11-.707-.708l1.414-1.414a.5.5.0 01.707.0zm-9.193 9.193a.5.5.0 010 .707L3.05 13.657a.5.5.0 01-.707-.707l1.414-1.414a.5.5.0 01.707.0zm9.193 2.121a.5.5.0 01-.707.0l-1.414-1.414a.5.5.0 01.707-.707l1.414 1.414a.5.5.0 010 .707zM4.464 4.465a.5.5.0 01-.707.0L2.343 3.05a.5.5.0 11.707-.707l1.414 1.414a.5.5.0 010 .708z"/></symbol></svg>
<button class="btn btn-link nav-link dropdown-toggle d-flex align-items-center" id=bd-theme type=button aria-expanded=false data-bs-toggle=dropdown data-bs-display=static aria-label="Toggle theme (auto)"><svg class="bi my-1 theme-icon-active"><use href="#circle-half"/></svg></button><ul class="dropdown-menu dropdown-menu-end" aria-labelledby=bd-theme-text><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=light aria-pressed=false>
<svg class="bi me-2 opacity-50"><use href="#sun-fill"/></svg>
Light<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=dark aria-pressed=false>
<svg class="bi me-2 opacity-50"><use href="#moon-stars-fill"/></svg>
Dark<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center active" data-bs-theme-value=auto aria-pressed=true>
<svg class="bi me-2 opacity-50"><use href="#circle-half"/></svg>
Auto<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li></ul></li></ul></div><div class="d-none d-lg-block"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.0adb1276100b3568e1e7720fcf0cd5ca.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>This is the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.</p><p><a href=/docs/user-guide/ecosystem/>Return to the regular view of this page</a>.</p></div><h1 class=title>Ecosystem</h1><ul><li>1: <a href=#pg-12941b77e52512197bc3e2eabb976682>InfluxDB</a></li><li>2: <a href=#pg-1fb5a05253c98bdbe5c288caa145feda>OpenTSDB</a></li><li>3: <a href=#pg-136053bf48d308f01c84dea97b7eed0c>Prometheus</a></li></ul><div class=content><p>HoraeDB has an open ecosystem that encourages collaboration and innovation, allowing developers to use what suits them best.</p></div></div><div class=td-content><h1 id=pg-12941b77e52512197bc3e2eabb976682>1 - InfluxDB</h1><p><a href=https://www.influxdata.com/products/influxdb-overview/>InfluxDB</a> is a time series database designed to handle high write and query loads. It is an integral component of the TICK stack. InfluxDB is meant to be used as a backing store for any use case involving large amounts of timestamped data, including DevOps monitoring, application metrics, IoT sensor data, and real-time analytics.</p><p>HoraeDB support <a href=https://docs.influxdata.com/influxdb/v1.8/tools/api/#influxdb-1x-http-endpoints>InfluxDB v1.8</a> write and query API.</p><blockquote><p>Warn: users need to add following config to server&rsquo;s config in order to try InfluxDB write/query.</p></blockquote><div class=highlight><div style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>[server.default_schema_config]
</span></span><span style=display:flex><span>default_timestamp_column_name = <span style=color:#ba2121>&#34;time&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=write>Write</h1><div class=highlight><div style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>curl -i -XPOST <span style=color:#ba2121>&#34;http://localhost:5440/influxdb/v1/write&#34;</span> --data-binary <span style=color:#ba2121>&#39;
</span></span></span><span style=display:flex><span><span style=color:#ba2121>demo,tag1=t1,tag2=t2 field1=90,field2=100 1679994647000
</span></span></span><span style=display:flex><span><span style=color:#ba2121>demo,tag1=t1,tag2=t2 field1=91,field2=101 1679994648000
</span></span></span><span style=display:flex><span><span style=color:#ba2121>demo,tag1=t11,tag2=t22 field1=90,field2=100 1679994647000
</span></span></span><span style=display:flex><span><span style=color:#ba2121>demo,tag1=t11,tag2=t22 field1=91,field2=101 1679994648000
</span></span></span><span style=display:flex><span><span style=color:#ba2121>&#39;</span>
</span></span></code></pre></td></tr></table></div></div><p>Post payload is in <a href=https://docs.influxdata.com/influxdb/v1.8/write_protocols/line_protocol_reference/>InfluxDB line protocol</a> format.</p><p>Measurement will be mapped to table in HoraeDB, and it will be created automatically in first write(Note: The default TTL is 7d, and points written exceed TTL will be discarded directly).</p><p>For example, when inserting data above, table below will be automatically created in HoraeDB:</p><div class=highlight><div style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:green;font-weight:700>CREATE</span><span style=color:#bbb> </span><span style=color:green;font-weight:700>TABLE</span><span style=color:#bbb> </span><span style=color:#666>`</span>demo<span style=color:#666>`</span><span style=color:#bbb> </span>(<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:#666>`</span>tsid<span style=color:#666>`</span><span style=color:#bbb> </span>uint64<span style=color:#bbb> </span><span style=color:green;font-weight:700>NOT</span><span style=color:#bbb> </span><span style=color:green;font-weight:700>NULL</span>,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:#666>`</span>time<span style=color:#666>`</span><span style=color:#bbb> </span><span style=color:green;font-weight:700>timestamp</span><span style=color:#bbb> </span><span style=color:green;font-weight:700>NOT</span><span style=color:#bbb> </span><span style=color:green;font-weight:700>NULL</span>,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:#666>`</span>field1<span style=color:#666>`</span><span style=color:#bbb> </span>double,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:#666>`</span>field2<span style=color:#666>`</span><span style=color:#bbb> </span>double,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:#666>`</span>tag1<span style=color:#666>`</span><span style=color:#bbb> </span>string<span style=color:#bbb> </span>TAG,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:#666>`</span>tag2<span style=color:#666>`</span><span style=color:#bbb> </span>string<span style=color:#bbb> </span>TAG,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>PRIMARY</span><span style=color:#bbb> </span><span style=color:green;font-weight:700>KEY</span><span style=color:#bbb> </span>(tsid,<span style=color:#bbb> </span>time),<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>timestamp</span><span style=color:#bbb> </span><span style=color:green;font-weight:700>KEY</span><span style=color:#bbb> </span>(time))<span style=color:#bbb>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=note>Note</h2><ul><li>When InfluxDB writes data, the timestamp precision is nanosecond by default, HoraeDB only supports millisecond timestamp, user can specify the data precision by <code>precision</code> parameter, HoraeDB will automatically convert to millisecond precision internally.</li><li>Query string parameters such as <code>db</code> aren&rsquo;t supported.</li></ul><h1 id=query>Query</h1><div class=highlight><div style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span> curl -G <span style=color:#ba2121>&#39;http://localhost:5440/influxdb/v1/query&#39;</span> --data-urlencode <span style=color:#ba2121>&#39;q=SELECT * FROM &#34;demo&#34;&#39;</span>
</span></span></code></pre></td></tr></table></div></div><p>Query result is same with InfluxDB:</p><div class=highlight><div style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:green;font-weight:700>&#34;results&#34;</span>: [
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:green;font-weight:700>&#34;statement_id&#34;</span>: <span style=color:#666>0</span>,
</span></span><span style=display:flex><span>      <span style=color:green;font-weight:700>&#34;series&#34;</span>: [
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>          <span style=color:green;font-weight:700>&#34;name&#34;</span>: <span style=color:#ba2121>&#34;demo&#34;</span>,
</span></span><span style=display:flex><span>          <span style=color:green;font-weight:700>&#34;columns&#34;</span>: [<span style=color:#ba2121>&#34;time&#34;</span>, <span style=color:#ba2121>&#34;field1&#34;</span>, <span style=color:#ba2121>&#34;field2&#34;</span>, <span style=color:#ba2121>&#34;tag1&#34;</span>, <span style=color:#ba2121>&#34;tag2&#34;</span>],
</span></span><span style=display:flex><span>          <span style=color:green;font-weight:700>&#34;values&#34;</span>: [
</span></span><span style=display:flex><span>            [<span style=color:#666>1679994647000</span>, <span style=color:#666>90.0</span>, <span style=color:#666>100.0</span>, <span style=color:#ba2121>&#34;t1&#34;</span>, <span style=color:#ba2121>&#34;t2&#34;</span>],
</span></span><span style=display:flex><span>            [<span style=color:#666>1679994647000</span>, <span style=color:#666>90.0</span>, <span style=color:#666>100.0</span>, <span style=color:#ba2121>&#34;t11&#34;</span>, <span style=color:#ba2121>&#34;t22&#34;</span>],
</span></span><span style=display:flex><span>            [<span style=color:#666>1679994648000</span>, <span style=color:#666>91.0</span>, <span style=color:#666>101.0</span>, <span style=color:#ba2121>&#34;t1&#34;</span>, <span style=color:#ba2121>&#34;t2&#34;</span>],
</span></span><span style=display:flex><span>            [<span style=color:#666>1679994648000</span>, <span style=color:#666>91.0</span>, <span style=color:#666>101.0</span>, <span style=color:#ba2121>&#34;t11&#34;</span>, <span style=color:#ba2121>&#34;t22&#34;</span>]
</span></span><span style=display:flex><span>          ]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      ]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><h2 id=usage-in-grafana>Usage in Grafana</h2><p>HoraeDB can be used as InfluxDB data source in Grafana.</p><ul><li>Select InfluxDB type when add data source</li><li>Then input <code>http://{ip}:{5440}/influxdb/v1/</code> in HTTP URL. For local deployment, URL is http://localhost:5440/influxdb/v1/</li><li><code>Save & test</code></li></ul><h2 id=note-1>Note</h2><p>Query string parameters such as <code>epoch</code>, <code>db</code>, <code>pretty</code> aren&rsquo;t supported.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-1fb5a05253c98bdbe5c288caa145feda>2 - OpenTSDB</h1><p><a href=http://opentsdb.net/>OpenTSDB</a> is a distributed and scalable time series database based on HBase.</p><h1 id=write>Write</h1><p>HoraeDB follows the <a href=http://opentsdb.net/docs/build/html/api_http/put.html>OpenTSDB put</a> write protocol.</p><p><code>summary</code> and <code>detailed</code> are not yet supported.</p><pre tabindex=0><code>curl --location &#39;http://localhost:5440/opentsdb/api/put&#39; \
--header &#39;Content-Type: application/json&#39; \
-d &#39;[{
    &#34;metric&#34;: &#34;sys.cpu.nice&#34;,
    &#34;timestamp&#34;: 1692588459000,
    &#34;value&#34;: 18,
    &#34;tags&#34;: {
       &#34;host&#34;: &#34;web01&#34;,
       &#34;dc&#34;: &#34;lga&#34;
    }
},
{
    &#34;metric&#34;: &#34;sys.cpu.nice&#34;,
    &#34;timestamp&#34;: 1692588459000,
    &#34;value&#34;: 18,
    &#34;tags&#34;: {
       &#34;host&#34;: &#34;web01&#34;
    }
}]&#39;
&#39;
</code></pre><p>Metric will be mapped to table in HoraeDB, and it will be created automatically in first write(Note: The default TTL is 7d, and points written exceed TTL will be discarded directly).</p><p>For example, when inserting data above, table below will be automatically created in HoraeDB:</p><pre tabindex=0><code>CREATE TABLE `sys.cpu.nice`(
    `tsid` uint64 NOT NULL,
    `timestamp` timestamp NOT NULL,
    `dc` string TAG,
    `host` string TAG,
    `value` bigint,
    PRIMARY KEY(tsid, timestamp),
    TIMESTAMP KEY(timestamp))
    ENGINE = Analytic
    WITH(arena_block_size = &#39;2097152&#39;, compaction_strategy = &#39;default&#39;,
    compression = &#39;ZSTD&#39;, enable_ttl = &#39;true&#39;, num_rows_per_row_group = &#39;8192&#39;,
    segment_duration = &#39;2h&#39;, storage_format = &#39;AUTO&#39;, ttl = &#39;7d&#39;,
    update_mode = &#39;OVERWRITE&#39;, write_buffer_size = &#39;33554432&#39;)
</code></pre><h1 id=query>Query</h1><p>OpenTSDB query protocol is not currently supported, <a href=https://github.com/apache/incubator-horaedb/issues/904>tracking issue</a>.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-136053bf48d308f01c84dea97b7eed0c>3 - Prometheus</h1><p><a href=https://prometheus.io/>Prometheus</a> is a popular cloud-native monitoring tool that is widely adopted by organizations due to its scalability, reliability, and scalability. It is used to scrape metrics from cloud-native services, such as Kubernetes and OpenShift, and stores it in a time-series database. Prometheus is also easily extensible, allowing users to extend its features and capabilities with other databases.</p><p>HoraeDB can be used as a long-term storage solution for Prometheus. Both remote read and remote write API are supported.</p><h2 id=config>Config</h2><p>You can configure Prometheus to use HoraeDB as a remote storage by adding following lines to <code>prometheus.yml</code>:</p><div class=highlight><div style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:green;font-weight:700>remote_write</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>url</span>:<span style=color:#bbb> </span><span style=color:#ba2121>&#34;http://&lt;address&gt;:&lt;http_port&gt;/prom/v1/write&#34;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>remote_read</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>url</span>:<span style=color:#bbb> </span><span style=color:#ba2121>&#34;http://&lt;address&gt;:&lt;http_port&gt;/prom/v1/read&#34;</span><span style=color:#bbb>
</span></span></span></code></pre></td></tr></table></div></div><p>Each metric will be converted to one table in HoraeDB:</p><ul><li>labels are mapped to corresponding <code>string</code> tag column</li><li>timestamp of sample is mapped to a timestamp <code>timestmap</code> column</li><li>value of sample is mapped to a double <code>value</code> column</li></ul><p>For example, <code>up</code> metric below will be mapped to <code>up</code> table:</p><pre tabindex=0><code>up{env=&#34;dev&#34;, instance=&#34;127.0.0.1:9090&#34;, job=&#34;prometheus-server&#34;}
</code></pre><p>Its corresponding table in HoraeDB(Note: The TTL for creating a table is 7d, and points written exceed TTL will be discarded directly):</p><pre tabindex=0><code>CREATE TABLE `up` (
    `timestamp` timestamp NOT NULL,
    `tsid` uint64 NOT NULL,
    `env` string TAG,
    `instance` string TAG,
    `job` string TAG,
    `value` double,
    PRIMARY KEY (tsid, timestamp),
    timestamp KEY (timestamp)
);

SELECT * FROM up;
</code></pre><table><thead><tr><th style=text-align:center>tsid</th><th style=text-align:center>timestamp</th><th style=text-align:center>env</th><th style=text-align:center>instance</th><th style=text-align:center>job</th><th style=text-align:center>value</th></tr></thead><tbody><tr><td style=text-align:center>12683162471309663278</td><td style=text-align:center>1675824740880</td><td style=text-align:center>dev</td><td style=text-align:center>127.0.0.1:9090</td><td style=text-align:center>prometheus-server</td><td style=text-align:center>1</td></tr></tbody></table></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class=td-footer__center>Apache HoraeDB is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.<hr><span class=td-footer__copyright>&copy;
2023&ndash;2024
<span class=td-footer__authors><p>The Apache Software Foundation, Licensed under the Apache License, Version 2.0.</p><p>Apache, the names of Apache projects, and the feather logo are either registered trademarks or trademarks of the Apache Software Foundation in the United States and/or other countries.</p></span></span><span class=td-footer__all_rights_reserved>All Rights Reserved</span></div></div></div></footer></div><script src=/js/main.min.f72d00502781aaf278a14088eb2356b1ba2a05ad698a0c43fe86314d74ceab56.js integrity="sha256-9y0AUCeBqvJ4oUCI6yNWsboqBa1pigxD/oYxTXTOq1Y=" crossorigin=anonymous></script><script defer src=/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script><script src=/js/tabpane-persist.js></script></body></html>