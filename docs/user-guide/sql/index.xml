<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>SQL Syntax on Apache HoraeDB</title><link>https://horaedb.apache.org/docs/user-guide/sql/</link><description>Recent content in SQL Syntax on Apache HoraeDB</description><generator>Hugo</generator><language>en</language><atom:link href="https://horaedb.apache.org/docs/user-guide/sql/index.xml" rel="self" type="application/rss+xml"/><item><title>Identifier</title><link>https://horaedb.apache.org/docs/user-guide/sql/identifier/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://horaedb.apache.org/docs/user-guide/sql/identifier/</guid><description>&lt;p>Identifier in HoraeDB can be used as table name, column name etc. It cannot be preserved keywords or start with number and punctuation symbols. HoraeDB allows to quote identifiers with back quotes (`). In this case it can be any string like &lt;code>00_table&lt;/code> or &lt;code>select&lt;/code>.&lt;/p></description></item><item><title>Utility Statements</title><link>https://horaedb.apache.org/docs/user-guide/sql/utility/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://horaedb.apache.org/docs/user-guide/sql/utility/</guid><description>&lt;p>There are serval utilities SQL in HoraeDB that can help in table manipulation or query inspection.&lt;/p>
&lt;h2 id="show-create-table">SHOW CREATE TABLE&lt;/h2>
&lt;div class="highlight">&lt;div style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sql" data-lang="sql">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#008000;font-weight:bold">SHOW&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000;font-weight:bold">CREATE&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000;font-weight:bold">TABLE&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000;font-weight:bold">table_name&lt;/span>;&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>SHOW CREATE TABLE&lt;/code> returns a &lt;code>CREATE TABLE&lt;/code> DDL that will create a same table with the given one. Including columns, table engine and options. The schema and options shows in &lt;code>CREATE TABLE&lt;/code> will based on the current version of the table. An example:&lt;/p></description></item><item><title>Options</title><link>https://horaedb.apache.org/docs/user-guide/sql/engine_options/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://horaedb.apache.org/docs/user-guide/sql/engine_options/</guid><description>&lt;p>Options below can be used when create table for analytic engine&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>enable_ttl&lt;/code>, &lt;code>bool&lt;/code>. When enable TTL on a table, rows older than &lt;code>ttl&lt;/code> will be deleted and can&amp;rsquo;t be querid, default &lt;code>true&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>ttl&lt;/code>, &lt;code>duration&lt;/code>, lifetime of a row, only used when &lt;code>enable_ttl&lt;/code> is &lt;code>true&lt;/code>. default &lt;code>7d&lt;/code>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>storage_format&lt;/code>, &lt;code>string&lt;/code>. The underlying column&amp;rsquo;s format. Availiable values:&lt;/p>
&lt;ul>
&lt;li>&lt;code>columnar&lt;/code>, default&lt;/li>
&lt;li>&lt;code>hybrid&lt;/code>, Note: This feature is still in development, and it may change in the future.&lt;/li>
&lt;/ul>
&lt;p>The meaning of those two values are in &lt;a href="https://horaedb.apache.org/docs/user-guide/sql/engine_options/#storage-format">Storage format&lt;/a> section.&lt;/p></description></item><item><title>Scalar Functions</title><link>https://horaedb.apache.org/docs/user-guide/sql/scalar_functions/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://horaedb.apache.org/docs/user-guide/sql/scalar_functions/</guid><description>&lt;p>HoraeDB SQL is implemented with &lt;a href="https://github.com/CeresDB/arrow-datafusion">DataFusion&lt;/a>, Here is the list of scalar functions. See more detail, Refer to &lt;a href="https://github.com/CeresDB/arrow-datafusion/blob/master/docs/source/user-guide/sql/scalar_functions.md">Datafusion&lt;/a>&lt;/p>
&lt;h2 id="math-functions">Math Functions&lt;/h2>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>Function&lt;/th>
 &lt;th>Description&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>abs(x)&lt;/td>
 &lt;td>absolute value&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>acos(x)&lt;/td>
 &lt;td>inverse cosine&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>asin(x)&lt;/td>
 &lt;td>inverse sine&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>atan(x)&lt;/td>
 &lt;td>inverse tangent&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>atan2(y, x)&lt;/td>
 &lt;td>inverse tangent of y / x&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>ceil(x)&lt;/td>
 &lt;td>nearest integer greater than or equal to argument&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>cos(x)&lt;/td>
 &lt;td>cosine&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>exp(x)&lt;/td>
 &lt;td>exponential&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>floor(x)&lt;/td>
 &lt;td>nearest integer less than or equal to argument&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>ln(x)&lt;/td>
 &lt;td>natural logarithm&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>log10(x)&lt;/td>
 &lt;td>base 10 logarithm&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>log2(x)&lt;/td>
 &lt;td>base 2 logarithm&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>power(base, exponent)&lt;/td>
 &lt;td>base raised to the power of exponent&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>round(x)&lt;/td>
 &lt;td>round to nearest integer&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>signum(x)&lt;/td>
 &lt;td>sign of the argument (-1, 0, +1)&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>sin(x)&lt;/td>
 &lt;td>sine&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>sqrt(x)&lt;/td>
 &lt;td>square root&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>tan(x)&lt;/td>
 &lt;td>tangent&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>trunc(x)&lt;/td>
 &lt;td>truncate toward zero&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;h2 id="conditional-functions">Conditional Functions&lt;/h2>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>Function&lt;/th>
 &lt;th>Description&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>coalesce&lt;/td>
 &lt;td>Returns the first of its arguments that is not null. Null is returned only if all arguments are null. It is often used to substitute a default value for null values when data is retrieved for display.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>nullif&lt;/td>
 &lt;td>Returns a null value if value1 equals value2; otherwise it returns value1. This can be used to perform the inverse operation of the coalesce expression.&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;h2 id="string-functions">String Functions&lt;/h2>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>Function&lt;/th>
 &lt;th>Description&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>ascii&lt;/td>
 &lt;td>Returns the numeric code of the first character of the argument. In UTF8 encoding, returns the Unicode code point of the character. In other multibyte encodings, the argument must be an ASCII character.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>bit_length&lt;/td>
 &lt;td>Returns the number of bits in a character string expression.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>btrim&lt;/td>
 &lt;td>Removes the longest string containing any of the specified characters from the start and end of string.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>char_length&lt;/td>
 &lt;td>Equivalent to length.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>character_length&lt;/td>
 &lt;td>Equivalent to length.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>concat&lt;/td>
 &lt;td>Concatenates two or more strings into one string.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>concat_ws&lt;/td>
 &lt;td>Combines two values with a given separator.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>chr&lt;/td>
 &lt;td>Returns the character based on the number code.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>initcap&lt;/td>
 &lt;td>Capitalizes the first letter of each word in a string.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>left&lt;/td>
 &lt;td>Returns the specified leftmost characters of a string.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>length&lt;/td>
 &lt;td>Returns the number of characters in a string.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>lower&lt;/td>
 &lt;td>Converts all characters in a string to their lower case equivalent.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>lpad&lt;/td>
 &lt;td>Left-pads a string to a given length with a specific set of characters.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>ltrim&lt;/td>
 &lt;td>Removes the longest string containing any of the characters in characters from the start of string.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>md5&lt;/td>
 &lt;td>Calculates the MD5 hash of a given string.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>octet_length&lt;/td>
 &lt;td>Equivalent to length.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>repeat&lt;/td>
 &lt;td>Returns a string consisting of the input string repeated a specified number of times.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>replace&lt;/td>
 &lt;td>Replaces all occurrences in a string of a substring with a new substring.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>reverse&lt;/td>
 &lt;td>Reverses a string.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>right&lt;/td>
 &lt;td>Returns the specified rightmost characters of a string.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>rpad&lt;/td>
 &lt;td>Right-pads a string to a given length with a specific set of characters.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>rtrim&lt;/td>
 &lt;td>Removes the longest string containing any of the characters in characters from the end of string.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>digest&lt;/td>
 &lt;td>Calculates the hash of a given string.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>split_part&lt;/td>
 &lt;td>Splits a string on a specified delimiter and returns the specified field from the resulting array.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>starts_with&lt;/td>
 &lt;td>Checks whether a string starts with a particular substring.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>strpos&lt;/td>
 &lt;td>Searches a string for a specific substring and returns its position.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>substr&lt;/td>
 &lt;td>Extracts a substring of a string.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>translate&lt;/td>
 &lt;td>Translates one set of characters into another.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>trim&lt;/td>
 &lt;td>Removes the longest string containing any of the characters in characters from either the start or end of string.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>upper&lt;/td>
 &lt;td>Converts all characters in a string to their upper case equivalent.&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;h2 id="regular-expression-functions">Regular Expression Functions&lt;/h2>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>Function&lt;/th>
 &lt;th>Description&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>regexp_match&lt;/td>
 &lt;td>Determines whether a string matches a regular expression pattern.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>regexp_replace&lt;/td>
 &lt;td>Replaces all occurrences in a string of a substring that matches a regular expression pattern with a new substring.&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;h2 id="temporal-functions">Temporal Functions&lt;/h2>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>Function&lt;/th>
 &lt;th>Description&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>to_timestamp&lt;/td>
 &lt;td>Converts a string to type Timestamp(Nanoseconds, None).&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>to_timestamp_millis&lt;/td>
 &lt;td>Converts a string to type Timestamp(Milliseconds, None).&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>to_timestamp_micros&lt;/td>
 &lt;td>Converts a string to type Timestamp(Microseconds, None).&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>to_timestamp_seconds&lt;/td>
 &lt;td>Converts a string to type Timestamp(Seconds, None).&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>extract&lt;/td>
 &lt;td>Retrieves subfields such as year or hour from date/time values.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>date_part&lt;/td>
 &lt;td>Retrieves subfield from date/time values.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>date_trunc&lt;/td>
 &lt;td>Truncates date/time values to specified precision.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>date_bin&lt;/td>
 &lt;td>Bin date/time values to specified precision.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>from_unixtime&lt;/td>
 &lt;td>Converts Unix epoch to type Timestamp(Nanoseconds, None).&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>now&lt;/td>
 &lt;td>Returns current time as Timestamp(Nanoseconds, UTC).&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;h2 id="other-functions">Other Functions&lt;/h2>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>Function&lt;/th>
 &lt;th>Description&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>array&lt;/td>
 &lt;td>Create an array.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>arrow_typeof&lt;/td>
 &lt;td>Returns underlying type.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>in_list&lt;/td>
 &lt;td>Check if value in list.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>random&lt;/td>
 &lt;td>Generate random value.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>sha224&lt;/td>
 &lt;td>sha224&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>sha256&lt;/td>
 &lt;td>sha256&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>sha384&lt;/td>
 &lt;td>sha384&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>sha512&lt;/td>
 &lt;td>sha512&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>to_hex&lt;/td>
 &lt;td>Convert to hex.&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table></description></item><item><title>Aggregate Functions</title><link>https://horaedb.apache.org/docs/user-guide/sql/aggregate_functions/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://horaedb.apache.org/docs/user-guide/sql/aggregate_functions/</guid><description>&lt;p>HoraeDB SQL is implemented with &lt;a href="https://github.com/apache/arrow-datafusion">DataFusion&lt;/a>, Here is the list of aggregate functions. See more detail, Refer to &lt;a href="https://github.com/apache/arrow-datafusion/blob/master/docs/source/user-guide/sql/aggregate_functions.md">Datafusion&lt;/a>&lt;/p>
&lt;h2 id="general">General&lt;/h2>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>Function&lt;/th>
 &lt;th>Description&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>min&lt;/td>
 &lt;td>Returns the minimum value in a numerical column&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>max&lt;/td>
 &lt;td>Returns the maximum value in a numerical column&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>count&lt;/td>
 &lt;td>Returns the number of rows&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>avg&lt;/td>
 &lt;td>Returns the average of a numerical column&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>sum&lt;/td>
 &lt;td>Sums a numerical column&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>array_agg&lt;/td>
 &lt;td>Puts values into an array&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;h2 id="statistical">Statistical&lt;/h2>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>Function&lt;/th>
 &lt;th>Description&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>var / var_samp&lt;/td>
 &lt;td>Returns the variance of a given column&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>var_pop&lt;/td>
 &lt;td>Returns the population variance of a given column&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>stddev / stddev_samp&lt;/td>
 &lt;td>Returns the standard deviation of a given column&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>stddev_pop&lt;/td>
 &lt;td>Returns the population standard deviation of a given column&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>covar / covar_samp&lt;/td>
 &lt;td>Returns the covariance of a given column&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>covar_pop&lt;/td>
 &lt;td>Returns the population covariance of a given column&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>corr&lt;/td>
 &lt;td>Returns the correlation coefficient of a given column&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;h2 id="approximate">Approximate&lt;/h2>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>Function&lt;/th>
 &lt;th>Description&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>approx_distinct&lt;/td>
 &lt;td>Returns the approximate number (HyperLogLog) of distinct input values&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>approx_median&lt;/td>
 &lt;td>Returns the approximate median of input values. It is an alias of approx_percentile_cont(x, 0.5).&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>approx_percentile_cont&lt;/td>
 &lt;td>Returns the approximate percentile (TDigest) of input values, where p is a float64 between 0 and 1 (inclusive). It supports raw data as input and build Tdigest sketches during query time, and is approximately equal to approx_percentile_cont_with_weight(x, 1, p).&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>approx_percentile_cont_with_weight&lt;/td>
 &lt;td>Returns the approximate percentile (TDigest) of input values with weight, where w is weight column expression and p is a float64 between 0 and 1 (inclusive). It supports raw data as input or pre-aggregated TDigest sketches, then builds or merges Tdigest sketches during query time. TDigest sketches are a list of centroid (x, w), where x stands for mean and w stands for weight.&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table></description></item></channel></rss>