<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Java | Apache HoraeDB</title>
<meta name=description content='Introduction HoraeDB Client is a high-performance Java client for HoraeDB.
Requirements Java 8 or later is required for compilation Dependency 1 2 3 4 5 <dependency> <groupId>io.ceresdb</groupId> <artifactId>ceresdb-all</artifactId> <version>${CERESDB.VERSION}</version> </dependency> You can get latest version here.
Init HoraeDB Client 1 2 3 4 5 6 7 8 9 10 11 12 13 final CeresDBOptions opts = CeresDBOptions.newBuilder("127.0.0.1", 8831, DIRECT) // CeresDB default grpc port 8831，use DIRECT RouteMode .database("public") // use database for client, can be overridden by the RequestContext in request // maximum retry times when write fails // (only some error codes will be retried, such as the routing table failure) .writeMaxRetries(1) // maximum retry times when read fails // (only some error codes will be retried, such as the routing table failure) .readMaxRetries(1).build(); final CeresDBClient client = new CeresDBClient(); if (!client.init(opts)) { throw new IllegalStateException("Fail to start CeresDBClient"); } The initialization requires at least three parameters:'><meta property="og:url" content="https://horaedb.apache.org/docs/user-guide/sdk/java/"><meta property="og:site_name" content="Apache HoraeDB"><meta property="og:title" content="Java"><meta property="og:description" content='Introduction HoraeDB Client is a high-performance Java client for HoraeDB.
Requirements Java 8 or later is required for compilation Dependency 1 2 3 4 5 <dependency> <groupId>io.ceresdb</groupId> <artifactId>ceresdb-all</artifactId> <version>${CERESDB.VERSION}</version> </dependency> You can get latest version here.
Init HoraeDB Client 1 2 3 4 5 6 7 8 9 10 11 12 13 final CeresDBOptions opts = CeresDBOptions.newBuilder("127.0.0.1", 8831, DIRECT) // CeresDB default grpc port 8831，use DIRECT RouteMode .database("public") // use database for client, can be overridden by the RequestContext in request // maximum retry times when write fails // (only some error codes will be retried, such as the routing table failure) .writeMaxRetries(1) // maximum retry times when read fails // (only some error codes will be retried, such as the routing table failure) .readMaxRetries(1).build(); final CeresDBClient client = new CeresDBClient(); if (!client.init(opts)) { throw new IllegalStateException("Fail to start CeresDBClient"); } The initialization requires at least three parameters:'><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2024-08-21T10:34:40+08:00"><meta itemprop=name content="Java"><meta itemprop=description content='Introduction HoraeDB Client is a high-performance Java client for HoraeDB.
Requirements Java 8 or later is required for compilation Dependency 1 2 3 4 5 <dependency> <groupId>io.ceresdb</groupId> <artifactId>ceresdb-all</artifactId> <version>${CERESDB.VERSION}</version> </dependency> You can get latest version here.
Init HoraeDB Client 1 2 3 4 5 6 7 8 9 10 11 12 13 final CeresDBOptions opts = CeresDBOptions.newBuilder("127.0.0.1", 8831, DIRECT) // CeresDB default grpc port 8831，use DIRECT RouteMode .database("public") // use database for client, can be overridden by the RequestContext in request // maximum retry times when write fails // (only some error codes will be retried, such as the routing table failure) .writeMaxRetries(1) // maximum retry times when read fails // (only some error codes will be retried, such as the routing table failure) .readMaxRetries(1).build(); final CeresDBClient client = new CeresDBClient(); if (!client.init(opts)) { throw new IllegalStateException("Fail to start CeresDBClient"); } The initialization requires at least three parameters:'><meta itemprop=dateModified content="2024-08-21T10:34:40+08:00"><meta itemprop=wordCount content="847"><meta name=twitter:card content="summary"><meta name=twitter:title content="Java"><meta name=twitter:description content='Introduction HoraeDB Client is a high-performance Java client for HoraeDB.
Requirements Java 8 or later is required for compilation Dependency 1 2 3 4 5 <dependency> <groupId>io.ceresdb</groupId> <artifactId>ceresdb-all</artifactId> <version>${CERESDB.VERSION}</version> </dependency> You can get latest version here.
Init HoraeDB Client 1 2 3 4 5 6 7 8 9 10 11 12 13 final CeresDBOptions opts = CeresDBOptions.newBuilder("127.0.0.1", 8831, DIRECT) // CeresDB default grpc port 8831，use DIRECT RouteMode .database("public") // use database for client, can be overridden by the RequestContext in request // maximum retry times when write fails // (only some error codes will be retried, such as the routing table failure) .writeMaxRetries(1) // maximum retry times when read fails // (only some error codes will be retried, such as the routing table failure) .readMaxRetries(1).build(); final CeresDBClient client = new CeresDBClient(); if (!client.init(opts)) { throw new IllegalStateException("Fail to start CeresDBClient"); } The initialization requires at least three parameters:'><link rel=preload href=/scss/main.min.5e43f8574351718e9b44966c9f3a571202ed048c082f457fb574c10b1a1bc56c.css as=style integrity="sha256-XkP4V0NRcY6bRJZsnzpXEgLtBIwIL0V/tXTBCxobxWw=" crossorigin=anonymous><link href=/scss/main.min.5e43f8574351718e9b44966c9f3a571202ed048c082f457fb574c10b1a1bc56c.css rel=stylesheet integrity="sha256-XkP4V0NRcY6bRJZsnzpXEgLtBIwIL0V/tXTBCxobxWw=" crossorigin=anonymous><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script><script defer src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script></head><body class=td-page><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/><span class="navbar-brand__logo navbar-logo"></span><span class=navbar-brand__name>Apache HoraeDB</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class=nav-item><a class="nav-link active" href=/docs/><i class='fa-solid fa-book'></i><span>Docs</span></a></li><li class=nav-item><a class=nav-link href=/blog/><i class='fa-brands fa-blogger'></i><span>Blog</span></a></li><li class=nav-item><a class=nav-link href=/downloads/><i class='fa-solid fa-download'></i><span>Downloads</span></a></li><li class=nav-item><a class=nav-link href=/community/><span>Community</span></a></li><li class="nav-item dropdown d-none d-lg-block"><div class=dropdown><a class="nav-link dropdown-toggle" href=# role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><ul class=dropdown-menu><li><a class=dropdown-item href=/cn/docs/user-guide/sdk/java/>中文</a></li></ul></div></li><li class="td-light-dark-menu nav-item dropdown"><svg class="d-none"><symbol id="check2" viewBox="0 0 16 16"><path d="M13.854 3.646a.5.5.0 010 .708l-7 7a.5.5.0 01-.708.0l-3.5-3.5a.5.5.0 11.708-.708L6.5 10.293l6.646-6.647a.5.5.0 01.708.0z"/></symbol><symbol id="circle-half" viewBox="0 0 16 16"><path d="M8 15A7 7 0 108 1v14zm0 1A8 8 0 118 0a8 8 0 010 16z"/></symbol><symbol id="moon-stars-fill" viewBox="0 0 16 16"><path d="M6 .278a.768.768.0 01.08.858 7.208 7.208.0 00-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527.0 1.04-.055 1.533-.16a.787.787.0 01.81.316.733.733.0 01-.031.893A8.349 8.349.0 018.344 16C3.734 16 0 12.286.0 7.71.0 4.266 2.114 1.312 5.124.06A.752.752.0 016 .278z"/><path d="M10.794 3.148a.217.217.0 01.412.0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217.0 010 .412l-1.162.387A1.734 1.734.0 0011.593 7.69l-.387 1.162a.217.217.0 01-.412.0l-.387-1.162A1.734 1.734.0 009.31 6.593l-1.162-.387a.217.217.0 010-.412l1.162-.387a1.734 1.734.0 001.097-1.097l.387-1.162zM13.863.099a.145.145.0 01.274.0l.258.774c.115.346.386.617.732.732l.774.258a.145.145.0 010 .274l-.774.258a1.156 1.156.0 00-.732.732l-.258.774a.145.145.0 01-.274.0l-.258-.774a1.156 1.156.0 00-.732-.732l-.774-.258a.145.145.0 010-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/></symbol><symbol id="sun-fill" viewBox="0 0 16 16"><path d="M8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 0zm0 13a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 13zm8-5a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2a.5.5.0 01.5.5zM3 8a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2A.5.5.0 013 8zm10.657-5.657a.5.5.0 010 .707l-1.414 1.415a.5.5.0 11-.707-.708l1.414-1.414a.5.5.0 01.707.0zm-9.193 9.193a.5.5.0 010 .707L3.05 13.657a.5.5.0 01-.707-.707l1.414-1.414a.5.5.0 01.707.0zm9.193 2.121a.5.5.0 01-.707.0l-1.414-1.414a.5.5.0 01.707-.707l1.414 1.414a.5.5.0 010 .707zM4.464 4.465a.5.5.0 01-.707.0L2.343 3.05a.5.5.0 11.707-.707l1.414 1.414a.5.5.0 010 .708z"/></symbol></svg>
<button class="btn btn-link nav-link dropdown-toggle d-flex align-items-center" id=bd-theme type=button aria-expanded=false data-bs-toggle=dropdown data-bs-display=static aria-label="Toggle theme (auto)"><svg class="bi my-1 theme-icon-active"><use href="#circle-half"/></svg></button><ul class="dropdown-menu dropdown-menu-end" aria-labelledby=bd-theme-text><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=light aria-pressed=false>
<svg class="bi me-2 opacity-50"><use href="#sun-fill"/></svg>
Light<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=dark aria-pressed=false>
<svg class="bi me-2 opacity-50"><use href="#moon-stars-fill"/></svg>
Dark<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center active" data-bs-theme-value=auto aria-pressed=true>
<svg class="bi me-2 opacity-50"><use href="#circle-half"/></svg>
Auto<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li></ul></li></ul></div><div class="d-none d-lg-block"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.9d4da1e290943edfb395b479f0352149.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.9d4da1e290943edfb395b479f0352149.json data-offline-search-base-href=/ data-offline-search-max-results=10></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type=button data-bs-toggle=collapse data-bs-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="td-sidebar-nav collapse foldable-nav" id=td-section-nav><div class="td-sidebar-nav__section nav-item dropdown d-block d-lg-none"><div class=dropdown><a class="nav-link dropdown-toggle" href=# role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><ul class=dropdown-menu><li><a class=dropdown-item href=/cn/docs/user-guide/sdk/java/>中文</a></li></ul></div></div><ul class="td-sidebar-nav__section pe-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs-li><a href=/docs/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-docs><span>Docs</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsgetting-started-li><input type=checkbox id=m-docsgetting-started-check>
<label for=m-docsgetting-started-check><a href=/docs/getting-started/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsgetting-started><span>Getting Started</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docsuser-guide-li><input type=checkbox id=m-docsuser-guide-check checked>
<label for=m-docsuser-guide-check><a href=/docs/user-guide/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsuser-guide><span>User Guide</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsuser-guidesql-li><input type=checkbox id=m-docsuser-guidesql-check>
<label for=m-docsuser-guidesql-check><a href=/docs/user-guide/sql/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsuser-guidesql><span>SQL Syntax</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsuser-guidesqlmodel-li><input type=checkbox id=m-docsuser-guidesqlmodel-check>
<label for=m-docsuser-guidesqlmodel-check><a href=/docs/user-guide/sql/model/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsuser-guidesqlmodel><span>Data Model</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidesqlmodeldata_types-li><input type=checkbox id=m-docsuser-guidesqlmodeldata_types-check>
<label for=m-docsuser-guidesqlmodeldata_types-check><a href=/docs/user-guide/sql/model/data_types/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidesqlmodeldata_types><span>Data Types</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidesqlmodelspecial_columns-li><input type=checkbox id=m-docsuser-guidesqlmodelspecial_columns-check>
<label for=m-docsuser-guidesqlmodelspecial_columns-check><a href=/docs/user-guide/sql/model/special_columns/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidesqlmodelspecial_columns><span>Special Columns</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidesqlidentifier-li><input type=checkbox id=m-docsuser-guidesqlidentifier-check>
<label for=m-docsuser-guidesqlidentifier-check><a href=/docs/user-guide/sql/identifier/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidesqlidentifier><span>Identifier</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsuser-guidesqlddl-li><input type=checkbox id=m-docsuser-guidesqlddl-check>
<label for=m-docsuser-guidesqlddl-check><a href=/docs/user-guide/sql/ddl/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsuser-guidesqlddl><span>Data Definition Statements</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidesqlddlalter_table-li><input type=checkbox id=m-docsuser-guidesqlddlalter_table-check>
<label for=m-docsuser-guidesqlddlalter_table-check><a href=/docs/user-guide/sql/ddl/alter_table/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidesqlddlalter_table><span>ALTER TABLE</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidesqlddlcreate_table-li><input type=checkbox id=m-docsuser-guidesqlddlcreate_table-check>
<label for=m-docsuser-guidesqlddlcreate_table-check><a href=/docs/user-guide/sql/ddl/create_table/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidesqlddlcreate_table><span>CREATE TABLE</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidesqlddldrop_table-li><input type=checkbox id=m-docsuser-guidesqlddldrop_table-check>
<label for=m-docsuser-guidesqlddldrop_table-check><a href=/docs/user-guide/sql/ddl/drop_table/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidesqlddldrop_table><span>DROP TABLE</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsuser-guidesqldml-li><input type=checkbox id=m-docsuser-guidesqldml-check>
<label for=m-docsuser-guidesqldml-check><a href=/docs/user-guide/sql/dml/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsuser-guidesqldml><span>Data Manipulation Statements</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidesqldmlinsert-li><input type=checkbox id=m-docsuser-guidesqldmlinsert-check>
<label for=m-docsuser-guidesqldmlinsert-check><a href=/docs/user-guide/sql/dml/insert/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidesqldmlinsert><span>INSERT</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidesqldmlselect-li><input type=checkbox id=m-docsuser-guidesqldmlselect-check>
<label for=m-docsuser-guidesqldmlselect-check><a href=/docs/user-guide/sql/dml/select/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidesqldmlselect><span>SELECT</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidesqlutility-li><input type=checkbox id=m-docsuser-guidesqlutility-check>
<label for=m-docsuser-guidesqlutility-check><a href=/docs/user-guide/sql/utility/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidesqlutility><span>Utility Statements</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidesqlengine_options-li><input type=checkbox id=m-docsuser-guidesqlengine_options-check>
<label for=m-docsuser-guidesqlengine_options-check><a href=/docs/user-guide/sql/engine_options/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidesqlengine_options><span>Options</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidesqlscalar_functions-li><input type=checkbox id=m-docsuser-guidesqlscalar_functions-check>
<label for=m-docsuser-guidesqlscalar_functions-check><a href=/docs/user-guide/sql/scalar_functions/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidesqlscalar_functions><span>Scalar Functions</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidesqlaggregate_functions-li><input type=checkbox id=m-docsuser-guidesqlaggregate_functions-check>
<label for=m-docsuser-guidesqlaggregate_functions-check><a href=/docs/user-guide/sql/aggregate_functions/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidesqlaggregate_functions><span>Aggregate Functions</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsuser-guidecluster_deployment-li><input type=checkbox id=m-docsuser-guidecluster_deployment-check>
<label for=m-docsuser-guidecluster_deployment-check><a href=/docs/user-guide/cluster_deployment/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsuser-guidecluster_deployment><span>Cluster Deployment</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidecluster_deploymentno_meta-li><input type=checkbox id=m-docsuser-guidecluster_deploymentno_meta-check>
<label for=m-docsuser-guidecluster_deploymentno_meta-check><a href=/docs/user-guide/cluster_deployment/no_meta/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidecluster_deploymentno_meta><span>NoMeta</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidecluster_deploymentwith_meta-li><input type=checkbox id=m-docsuser-guidecluster_deploymentwith_meta-check>
<label for=m-docsuser-guidecluster_deploymentwith_meta-check><a href=/docs/user-guide/cluster_deployment/with_meta/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidecluster_deploymentwith_meta><span>WithMeta</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docsuser-guidesdk-li><input type=checkbox id=m-docsuser-guidesdk-check checked>
<label for=m-docsuser-guidesdk-check><a href=/docs/user-guide/sdk/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsuser-guidesdk><span>SDK</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidesdkgo-li><input type=checkbox id=m-docsuser-guidesdkgo-check>
<label for=m-docsuser-guidesdkgo-check><a href=/docs/user-guide/sdk/go/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidesdkgo><span>Go</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-docsuser-guidesdkjava-li><input type=checkbox id=m-docsuser-guidesdkjava-check checked>
<label for=m-docsuser-guidesdkjava-check><a href=/docs/user-guide/sdk/java/ class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidesdkjava><span class=td-sidebar-nav-active-item>Java</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidesdkpython-li><input type=checkbox id=m-docsuser-guidesdkpython-check>
<label for=m-docsuser-guidesdkpython-check><a href=/docs/user-guide/sdk/python/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidesdkpython><span>Python</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidesdkrust-li><input type=checkbox id=m-docsuser-guidesdkrust-check>
<label for=m-docsuser-guidesdkrust-check><a href=/docs/user-guide/sdk/rust/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidesdkrust><span>Rust</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsuser-guideoperation-li><input type=checkbox id=m-docsuser-guideoperation-check>
<label for=m-docsuser-guideoperation-check><a href=/docs/user-guide/operation/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsuser-guideoperation><span>Operation and Maintenance</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guideoperationblock_list-li><input type=checkbox id=m-docsuser-guideoperationblock_list-check>
<label for=m-docsuser-guideoperationblock_list-check><a href=/docs/user-guide/operation/block_list/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guideoperationblock_list><span>Block List</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guideoperationhoraemeta-li><input type=checkbox id=m-docsuser-guideoperationhoraemeta-check>
<label for=m-docsuser-guideoperationhoraemeta-check><a href=/docs/user-guide/operation/horaemeta/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guideoperationhoraemeta><span>Cluster Operation</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guideoperationobservability-li><input type=checkbox id=m-docsuser-guideoperationobservability-check>
<label for=m-docsuser-guideoperationobservability-check><a href=/docs/user-guide/operation/observability/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guideoperationobservability><span>Observability</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guideoperationsystem_table-li><input type=checkbox id=m-docsuser-guideoperationsystem_table-check>
<label for=m-docsuser-guideoperationsystem_table-check><a href=/docs/user-guide/operation/system_table/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guideoperationsystem_table><span>Table Operation</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guideoperationtable-li><input type=checkbox id=m-docsuser-guideoperationtable-check>
<label for=m-docsuser-guideoperationtable-check><a href=/docs/user-guide/operation/table/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guideoperationtable><span>Table Operation</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsuser-guideecosystem-li><input type=checkbox id=m-docsuser-guideecosystem-check>
<label for=m-docsuser-guideecosystem-check><a href=/docs/user-guide/ecosystem/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsuser-guideecosystem><span>Ecosystem</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guideecosysteminfluxdb-li><input type=checkbox id=m-docsuser-guideecosysteminfluxdb-check>
<label for=m-docsuser-guideecosysteminfluxdb-check><a href=/docs/user-guide/ecosystem/influxdb/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guideecosysteminfluxdb><span>InfluxDB</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guideecosystemopentsdb-li><input type=checkbox id=m-docsuser-guideecosystemopentsdb-check>
<label for=m-docsuser-guideecosystemopentsdb-check><a href=/docs/user-guide/ecosystem/opentsdb/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guideecosystemopentsdb><span>OpenTSDB</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guideecosystemprometheus-li><input type=checkbox id=m-docsuser-guideecosystemprometheus-check>
<label for=m-docsuser-guideecosystemprometheus-check><a href=/docs/user-guide/ecosystem/prometheus/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guideecosystemprometheus><span>Prometheus</span></a></label></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsdev-li><input type=checkbox id=m-docsdev-check>
<label for=m-docsdev-check><a href=/docs/dev/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsdev><span>Development</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdevplatform-li><input type=checkbox id=m-docsdevplatform-check>
<label for=m-docsdevplatform-check><a href=/docs/dev/platform/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsdevplatform><span>Supported Platform</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdevconventional_commit-li><input type=checkbox id=m-docsdevconventional_commit-check>
<label for=m-docsdevconventional_commit-check><a href=/docs/dev/conventional_commit/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsdevconventional_commit><span>Conventional Commit Guide</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdevcompile_run-li><input type=checkbox id=m-docsdevcompile_run-check>
<label for=m-docsdevcompile_run-check><a href=/docs/dev/compile_run/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsdevcompile_run><span>Compile</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdevprofiling-li><input type=checkbox id=m-docsdevprofiling-check>
<label for=m-docsdevprofiling-check><a href=/docs/dev/profiling/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsdevprofiling><span>Profiling</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdevstyle_guide-li><input type=checkbox id=m-docsdevstyle_guide-check>
<label for=m-docsdevstyle_guide-check><a href=/docs/dev/style_guide/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsdevstyle_guide><span>Rationale and Goals</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdevroadmap-li><input type=checkbox id=m-docsdevroadmap-check>
<label for=m-docsdevroadmap-check><a href=/docs/dev/roadmap/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsdevroadmap><span>RoadMap</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdevsdk_develop-li><input type=checkbox id=m-docsdevsdk_develop-check>
<label for=m-docsdevsdk_develop-check><a href=/docs/dev/sdk_develop/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsdevsdk_develop><span>SDK Development</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscontribution-guidelines-li><input type=checkbox id=m-docscontribution-guidelines-check>
<label for=m-docscontribution-guidelines-check><a href=/docs/contribution-guidelines/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docscontribution-guidelines><span>Contribution Guidelines</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsdesign-li><input type=checkbox id=m-docsdesign-check>
<label for=m-docsdesign-check><a href=/docs/design/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsdesign><span>Technical and Design</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdesignclustering-li><input type=checkbox id=m-docsdesignclustering-check>
<label for=m-docsdesignclustering-check><a href=/docs/design/clustering/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsdesignclustering><span>Introduction to Architecture of HoraeDB Cluster</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdesignarchitecture-li><input type=checkbox id=m-docsdesignarchitecture-check>
<label for=m-docsdesignarchitecture-check><a href=/docs/design/architecture/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsdesignarchitecture><span>Introduction to HoraeDB's Architecture</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdesignstorage-li><input type=checkbox id=m-docsdesignstorage-check>
<label for=m-docsdesignstorage-check><a href=/docs/design/storage/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsdesignstorage><span>Storage</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdesigntable_partitioning-li><input type=checkbox id=m-docsdesigntable_partitioning-check>
<label for=m-docsdesigntable_partitioning-check><a href=/docs/design/table_partitioning/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsdesigntable_partitioning><span>Table Partitioning</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdesignwal-li><input type=checkbox id=m-docsdesignwal-check>
<label for=m-docsdesignwal-check><a href=/docs/design/wal/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsdesignwal><span>Wal</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdesignwal_on_disk-li><input type=checkbox id=m-docsdesignwal_on_disk-check>
<label for=m-docsdesignwal_on_disk-check><a href=/docs/design/wal_on_disk/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsdesignwal_on_disk><span>WAL on Disk</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdesignwal_on_kafka-li><input type=checkbox id=m-docsdesignwal_on_kafka-check>
<label for=m-docsdesignwal_on_kafka-check><a href=/docs/design/wal_on_kafka/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsdesignwal_on_kafka><span>WAL on Kafka</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdesignwal_on_rocksdb-li><input type=checkbox id=m-docsdesignwal_on_rocksdb-check>
<label for=m-docsdesignwal_on_rocksdb-check><a href=/docs/design/wal_on_rocksdb/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsdesignwal_on_rocksdb><span>WAL on RocksDB</span></a></label></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ms-2 pb-1 pt-2 mb-0"><a href=https://github.com/apache/horaedb-docs/tree/main/content/en/docs/user-guide/sdk/java.md class="td-page-meta--view td-page-meta__view" target=_blank rel=noopener><i class="fa-solid fa-file-lines fa-fw"></i> View page source</a>
<a href=https://github.com/apache/horaedb-docs/edit/main/content/en/docs/user-guide/sdk/java.md class="td-page-meta--edit td-page-meta__edit" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Edit this page</a>
<a href="https://github.com/apache/horaedb-docs/new/main/content/en/docs/user-guide/sdk?filename=change-me.md&amp;value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class="td-page-meta--child td-page-meta__child" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Create child page</a>
<a href="https://github.com/apache/horaedb-docs/issues/new?title=Java" class="td-page-meta--issue td-page-meta__issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/apache/horaedb/issues/new class="td-page-meta--project td-page-meta__project-issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> Create project issue</a></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#requirements>Requirements</a></li><li><a href=#dependency>Dependency</a></li><li><a href=#init-horaedb-client>Init HoraeDB Client</a></li><li><a href=#create-table-example>Create Table Example</a></li><li><a href=#drop-table-example>Drop Table Example</a></li><li><a href=#write-data-example>Write Data Example</a></li><li><a href=#query-data-example>Query Data Example</a></li><li><a href=#stream-writeread-example>Stream Write/Read Example</a></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=/docs/>Docs</a></li><li class=breadcrumb-item><a href=/docs/user-guide/>User Guide</a></li><li class=breadcrumb-item><a href=/docs/user-guide/sdk/>SDK</a></li><li class="breadcrumb-item active" aria-current=page>Java</li></ol></nav><div class=td-content><h1>Java</h1><header class=article-meta></header><h2 id=introduction>Introduction</h2><p>HoraeDB Client is a high-performance Java client for HoraeDB.</p><h2 id=requirements>Requirements</h2><ul><li>Java 8 or later is required for compilation</li></ul><h2 id=dependency>Dependency</h2><div class=highlight><div style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:green;font-weight:700>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:green;font-weight:700>&lt;groupId&gt;</span>io.ceresdb<span style=color:green;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:green;font-weight:700>&lt;artifactId&gt;</span>ceresdb-all<span style=color:green;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:green;font-weight:700>&lt;version&gt;</span>${CERESDB.VERSION}<span style=color:green;font-weight:700>&lt;/version&gt;</span>
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>You can get latest version <a href=https://github.com/apache/incubator-horaedb-client-java/blob/main/docs/CHANGELOG.md>here</a>.</p><h2 id=init-horaedb-client>Init HoraeDB Client</h2><div class=highlight><div style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:green;font-weight:700>final</span><span style=color:#bbb> </span>CeresDBOptions<span style=color:#bbb> </span>opts<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>CeresDBOptions.<span style=color:#7d9029>newBuilder</span>(<span style=color:#ba2121>&#34;127.0.0.1&#34;</span>,<span style=color:#bbb> </span>8831,<span style=color:#bbb> </span>DIRECT)<span style=color:#bbb> </span><span style=color:#408080;font-style:italic>// CeresDB default grpc port 8831，use DIRECT RouteMode</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span>.<span style=color:#7d9029>database</span>(<span style=color:#ba2121>&#34;public&#34;</span>)<span style=color:#bbb> </span><span style=color:#408080;font-style:italic>// use database for client, can be overridden by the RequestContext in request</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:#408080;font-style:italic>// maximum retry times when write fails</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:#408080;font-style:italic>// (only some error codes will be retried, such as the routing table failure)</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span>.<span style=color:#7d9029>writeMaxRetries</span>(1)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:#408080;font-style:italic>// maximum retry times when read fails</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:#408080;font-style:italic>// (only some error codes will be retried, such as the routing table failure)</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span>.<span style=color:#7d9029>readMaxRetries</span>(1).<span style=color:#7d9029>build</span>();<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>final</span><span style=color:#bbb> </span>CeresDBClient<span style=color:#bbb> </span>client<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span><span style=color:green;font-weight:700>new</span><span style=color:#bbb> </span>CeresDBClient();<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>if</span><span style=color:#bbb> </span>(<span style=color:#666>!</span>client.<span style=color:#7d9029>init</span>(opts))<span style=color:#bbb> </span>{<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>throw</span><span style=color:#bbb> </span><span style=color:green;font-weight:700>new</span><span style=color:#bbb> </span>IllegalStateException(<span style=color:#ba2121>&#34;Fail to start CeresDBClient&#34;</span>);<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>}<span style=color:#bbb>
</span></span></span></code></pre></td></tr></table></div></div><p>The initialization requires at least three parameters:</p><ul><li><code>Endpoint</code>: 127.0.0.1</li><li><code>Port</code>: 8831</li><li><code>RouteMode</code>: DIRECT/PROXY</li></ul><p>Here is the explanation of <code>RouteMode</code>. There are two kinds of <code>RouteMode</code>,The <code>Direct</code> mode should be adopted to avoid forwarding overhead if all the servers are accessible to the client.
However, the <code>Proxy</code> mode is the only choice if the access to the servers from the client must go through a gateway.
For more configuration options, see <a href=https://github.com/apache/incubator-horaedb-client-java/tree/main/docs/configuration.md>configuration</a></p><p>Notice: HoraeDB currently only supports the default database <code>public</code> now, multiple databases will be supported in the future;</p><h2 id=create-table-example>Create Table Example</h2><p>For ease of use, when using gRPC&rsquo;s write interface for writing, if a table does not exist, HoraeDB will automatically create a table based on the first write.</p><p>Of course, you can also use <code>create table</code> statement to manage the table more finely (such as adding indexes).</p><p>The following table creation statement（using the SQL API included in SDK ）shows all field types supported by HoraeDB：</p><div class=highlight><div style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#408080;font-style:italic>// Create table manually, creating table schema ahead of data ingestion is not required</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>String<span style=color:#bbb> </span>createTableSql<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span><span style=color:#ba2121>&#34;CREATE TABLE IF NOT EXISTS machine_table(&#34;</span><span style=color:#bbb> </span><span style=color:#666>+</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:#ba2121>&#34;ts TIMESTAMP NOT NULL,&#34;</span><span style=color:#bbb> </span><span style=color:#666>+</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:#ba2121>&#34;city STRING TAG NOT NULL,&#34;</span><span style=color:#bbb> </span><span style=color:#666>+</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:#ba2121>&#34;ip STRING TAG NOT NULL,&#34;</span><span style=color:#bbb> </span><span style=color:#666>+</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:#ba2121>&#34;cpu DOUBLE NULL,&#34;</span><span style=color:#bbb> </span><span style=color:#666>+</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:#ba2121>&#34;mem DOUBLE NULL,&#34;</span><span style=color:#bbb> </span><span style=color:#666>+</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:#ba2121>&#34;TIMESTAMP KEY(ts)&#34;</span><span style=color:#bbb> </span><span style=color:#666>+</span><span style=color:#bbb> </span><span style=color:#408080;font-style:italic>// timestamp column must be specified</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:#ba2121>&#34;) ENGINE=Analytic&#34;</span>;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>Result<span style=color:#666>&lt;</span>SqlQueryOk,<span style=color:#bbb> </span>Err<span style=color:#666>&gt;</span><span style=color:#bbb> </span>createResult<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>client.<span style=color:#7d9029>sqlQuery</span>(<span style=color:green;font-weight:700>new</span><span style=color:#bbb> </span>SqlQueryRequest(createTableSql)).<span style=color:#7d9029>get</span>();<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>if</span><span style=color:#bbb> </span>(<span style=color:#666>!</span>createResult.<span style=color:#7d9029>isOk</span>())<span style=color:#bbb> </span>{<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>throw</span><span style=color:#bbb> </span><span style=color:green;font-weight:700>new</span><span style=color:#bbb> </span>IllegalStateException(<span style=color:#ba2121>&#34;Fail to create table&#34;</span>);<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>}<span style=color:#bbb>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=drop-table-example>Drop Table Example</h2><p>Here is an example of dropping table：</p><div class=highlight><div style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>String<span style=color:#bbb> </span>dropTableSql<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span><span style=color:#ba2121>&#34;DROP TABLE machine_table&#34;</span>;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>Result<span style=color:#666>&lt;</span>SqlQueryOk,<span style=color:#bbb> </span>Err<span style=color:#666>&gt;</span><span style=color:#bbb> </span>dropResult<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>client.<span style=color:#7d9029>sqlQuery</span>(<span style=color:green;font-weight:700>new</span><span style=color:#bbb> </span>SqlQueryRequest(dropTableSql)).<span style=color:#7d9029>get</span>();<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>if</span><span style=color:#bbb> </span>(<span style=color:#666>!</span>dropResult.<span style=color:#7d9029>isOk</span>())<span style=color:#bbb> </span>{<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>throw</span><span style=color:#bbb> </span><span style=color:green;font-weight:700>new</span><span style=color:#bbb> </span>IllegalStateException(<span style=color:#ba2121>&#34;Fail to drop table&#34;</span>);<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>}<span style=color:#bbb>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=write-data-example>Write Data Example</h2><p>Firstly, you can use <code>PointBuilder</code> to build HoraeDB points:</p><div class=highlight><div style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>List<span style=color:#666>&lt;</span>Point<span style=color:#666>&gt;</span><span style=color:#bbb> </span>pointList<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span><span style=color:green;font-weight:700>new</span><span style=color:#bbb> </span>LinkedList<span style=color:#666>&lt;&gt;</span>();<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>for</span><span style=color:#bbb> </span>(<span style=color:#b00040>int</span><span style=color:#bbb> </span>i<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>0;<span style=color:#bbb> </span>i<span style=color:#bbb> </span><span style=color:#666>&lt;</span><span style=color:#bbb> </span>100;<span style=color:#bbb> </span>i<span style=color:#666>++</span>)<span style=color:#bbb> </span>{<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:#408080;font-style:italic>// build one point</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>final</span><span style=color:#bbb> </span>Point<span style=color:#bbb> </span>point<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>Point.<span style=color:#7d9029>newPointBuilder</span>(<span style=color:#ba2121>&#34;machine_table&#34;</span>)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>            </span>.<span style=color:#7d9029>setTimestamp</span>(t0)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>            </span>.<span style=color:#7d9029>addTag</span>(<span style=color:#ba2121>&#34;city&#34;</span>,<span style=color:#bbb> </span><span style=color:#ba2121>&#34;Singapore&#34;</span>)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>            </span>.<span style=color:#7d9029>addTag</span>(<span style=color:#ba2121>&#34;ip&#34;</span>,<span style=color:#bbb> </span><span style=color:#ba2121>&#34;10.0.0.1&#34;</span>)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>            </span>.<span style=color:#7d9029>addField</span>(<span style=color:#ba2121>&#34;cpu&#34;</span>,<span style=color:#bbb> </span>Value.<span style=color:#7d9029>withDouble</span>(0.<span style=color:#7d9029>23</span>))<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>            </span>.<span style=color:#7d9029>addField</span>(<span style=color:#ba2121>&#34;mem&#34;</span>,<span style=color:#bbb> </span>Value.<span style=color:#7d9029>withDouble</span>(0.<span style=color:#7d9029>55</span>))<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>            </span>.<span style=color:#7d9029>build</span>();<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>points.<span style=color:#7d9029>add</span>(point);<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>}<span style=color:#bbb>
</span></span></span></code></pre></td></tr></table></div></div><p>Then, you can use <code>write</code> interface to write data:</p><div class=highlight><div style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:green;font-weight:700>final</span><span style=color:#bbb> </span>CompletableFuture<span style=color:#666>&lt;</span>Result<span style=color:#666>&lt;</span>WriteOk,<span style=color:#bbb> </span>Err<span style=color:#666>&gt;&gt;</span><span style=color:#bbb> </span>wf<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>client.<span style=color:#7d9029>write</span>(<span style=color:green;font-weight:700>new</span><span style=color:#bbb> </span>WriteRequest(pointList));<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#408080;font-style:italic>// here the `future.get` is just for demonstration, a better async programming practice would be using the CompletableFuture API</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>final</span><span style=color:#bbb> </span>Result<span style=color:#666>&lt;</span>WriteOk,<span style=color:#bbb> </span>Err<span style=color:#666>&gt;</span><span style=color:#bbb> </span>writeResult<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>wf.<span style=color:#7d9029>get</span>();<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span>Assert.<span style=color:#7d9029>assertTrue</span>(writeResult.<span style=color:#7d9029>isOk</span>());<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:#408080;font-style:italic>// `Result` class referenced the Rust language practice, provides rich functions (such as mapXXX, andThen) transforming the result value to improve programming efficiency. You can refer to the API docs for detail usage.</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span>Assert.<span style=color:#7d9029>assertEquals</span>(3,<span style=color:#bbb> </span>writeResult.<span style=color:#7d9029>getOk</span>().<span style=color:#7d9029>getSuccess</span>());<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span>Assert.<span style=color:#7d9029>assertEquals</span>(3,<span style=color:#bbb> </span>writeResult.<span style=color:#7d9029>mapOr</span>(0,<span style=color:#bbb> </span>WriteOk::getSuccess).<span style=color:#7d9029>intValue</span>());<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span>Assert.<span style=color:#7d9029>assertEquals</span>(0,<span style=color:#bbb> </span>writeResult.<span style=color:#7d9029>mapOr</span>(<span style=color:#666>-</span>1,<span style=color:#bbb> </span>WriteOk::getFailed).<span style=color:#7d9029>intValue</span>());<span style=color:#bbb>
</span></span></span></code></pre></td></tr></table></div></div><p>See <a href=https://github.com/apache/incubator-horaedb-client-java/tree/main/docs/write.md>write</a></p><h2 id=query-data-example>Query Data Example</h2><div class=highlight><div style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:green;font-weight:700>final</span><span style=color:#bbb> </span>SqlQueryRequest<span style=color:#bbb> </span>queryRequest<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>SqlQueryRequest.<span style=color:#7d9029>newBuilder</span>()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span>.<span style=color:#7d9029>forTables</span>(<span style=color:#ba2121>&#34;machine_table&#34;</span>)<span style=color:#bbb> </span><span style=color:#408080;font-style:italic>// table name is optional. If not provided, SQL parser will parse the `ssql` to get the table name and do the routing automaticly</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span>.<span style=color:#7d9029>sql</span>(<span style=color:#ba2121>&#34;select * from machine_table where ts = %d&#34;</span>,<span style=color:#bbb> </span>t0)<span style=color:#bbb> </span><span style=color:#408080;font-style:italic>//</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span>.<span style=color:#7d9029>build</span>();<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>final</span><span style=color:#bbb> </span>CompletableFuture<span style=color:#666>&lt;</span>Result<span style=color:#666>&lt;</span>SqlQueryOk,<span style=color:#bbb> </span>Err<span style=color:#666>&gt;&gt;</span><span style=color:#bbb> </span>qf<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>client.<span style=color:#7d9029>sqlQuery</span>(queryRequest);<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#408080;font-style:italic>// here the `future.get` is just for demonstration, a better async programming practice would be using the CompletableFuture API</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>final</span><span style=color:#bbb> </span>Result<span style=color:#666>&lt;</span>SqlQueryOk,<span style=color:#bbb> </span>Err<span style=color:#666>&gt;</span><span style=color:#bbb> </span>queryResult<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>qf.<span style=color:#7d9029>get</span>();<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>Assert.<span style=color:#7d9029>assertTrue</span>(queryResult.<span style=color:#7d9029>isOk</span>());<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>final</span><span style=color:#bbb> </span>SqlQueryOk<span style=color:#bbb> </span>queryOk<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>queryResult.<span style=color:#7d9029>getOk</span>();<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>Assert.<span style=color:#7d9029>assertEquals</span>(1,<span style=color:#bbb> </span>queryOk.<span style=color:#7d9029>getRowCount</span>());<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#408080;font-style:italic>// get rows as list</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>final</span><span style=color:#bbb> </span>List<span style=color:#666>&lt;</span>Row<span style=color:#666>&gt;</span><span style=color:#bbb> </span>rows<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>queryOk.<span style=color:#7d9029>getRowList</span>();<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>Assert.<span style=color:#7d9029>assertEquals</span>(t0,<span style=color:#bbb> </span>rows.<span style=color:#7d9029>get</span>(0).<span style=color:#7d9029>getColumn</span>(<span style=color:#ba2121>&#34;ts&#34;</span>).<span style=color:#7d9029>getValue</span>().<span style=color:#7d9029>getTimestamp</span>());<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>Assert.<span style=color:#7d9029>assertEquals</span>(<span style=color:#ba2121>&#34;Singapore&#34;</span>,<span style=color:#bbb> </span>rows.<span style=color:#7d9029>get</span>(0).<span style=color:#7d9029>getColumn</span>(<span style=color:#ba2121>&#34;city&#34;</span>).<span style=color:#7d9029>getValue</span>().<span style=color:#7d9029>getString</span>());<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>Assert.<span style=color:#7d9029>assertEquals</span>(<span style=color:#ba2121>&#34;10.0.0.1&#34;</span>,<span style=color:#bbb> </span>rows.<span style=color:#7d9029>get</span>(0).<span style=color:#7d9029>getColumn</span>(<span style=color:#ba2121>&#34;ip&#34;</span>).<span style=color:#7d9029>getValue</span>().<span style=color:#7d9029>getString</span>());<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>Assert.<span style=color:#7d9029>assertEquals</span>(0.<span style=color:#7d9029>23</span>,<span style=color:#bbb> </span>rows.<span style=color:#7d9029>get</span>(0).<span style=color:#7d9029>getColumn</span>(<span style=color:#ba2121>&#34;cpu&#34;</span>).<span style=color:#7d9029>getValue</span>().<span style=color:#7d9029>getDouble</span>(),<span style=color:#bbb> </span>0.<span style=color:#7d9029>0000001</span>);<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>Assert.<span style=color:#7d9029>assertEquals</span>(0.<span style=color:#7d9029>55</span>,<span style=color:#bbb> </span>rows.<span style=color:#7d9029>get</span>(0).<span style=color:#7d9029>getColumn</span>(<span style=color:#ba2121>&#34;mem&#34;</span>).<span style=color:#7d9029>getValue</span>().<span style=color:#7d9029>getDouble</span>(),<span style=color:#bbb> </span>0.<span style=color:#7d9029>0000001</span>);<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#408080;font-style:italic>// get rows as stream</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>final</span><span style=color:#bbb> </span>Stream<span style=color:#666>&lt;</span>Row<span style=color:#666>&gt;</span><span style=color:#bbb> </span>rowStream<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>queryOk.<span style=color:#7d9029>stream</span>();<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>rowStream.<span style=color:#7d9029>forEach</span>(row<span style=color:#bbb> </span><span style=color:#666>-&gt;</span><span style=color:#bbb> </span>System.<span style=color:#7d9029>out</span>.<span style=color:#7d9029>println</span>(row.<span style=color:#7d9029>toString</span>()));<span style=color:#bbb>
</span></span></span></code></pre></td></tr></table></div></div><p>See <a href=https://github.com/apache/incubator-horaedb-client-java/tree/main/docs/read.md>read</a></p><h2 id=stream-writeread-example>Stream Write/Read Example</h2><p>HoraeDB support streaming writing and reading，suitable for large-scale data reading and writing。</p><div class=highlight><div style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#b00040>long</span><span style=color:#bbb> </span>start<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>System.<span style=color:#7d9029>currentTimeMillis</span>();<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#b00040>long</span><span style=color:#bbb> </span>t<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>start;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>final</span><span style=color:#bbb> </span>StreamWriteBuf<span style=color:#666>&lt;</span>Point,<span style=color:#bbb> </span>WriteOk<span style=color:#666>&gt;</span><span style=color:#bbb> </span>writeBuf<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>client.<span style=color:#7d9029>streamWrite</span>(<span style=color:#ba2121>&#34;machine_table&#34;</span>);<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>for</span><span style=color:#bbb> </span>(<span style=color:#b00040>int</span><span style=color:#bbb> </span>i<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>0;<span style=color:#bbb> </span>i<span style=color:#bbb> </span><span style=color:#666>&lt;</span><span style=color:#bbb> </span>1000;<span style=color:#bbb> </span>i<span style=color:#666>++</span>)<span style=color:#bbb> </span>{<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>final</span><span style=color:#bbb> </span>Point<span style=color:#bbb> </span>streamData<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>Point.<span style=color:#7d9029>newPointBuilder</span>(<span style=color:#ba2121>&#34;machine_table&#34;</span>)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>                </span>.<span style=color:#7d9029>setTimestamp</span>(t)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>                </span>.<span style=color:#7d9029>addTag</span>(<span style=color:#ba2121>&#34;city&#34;</span>,<span style=color:#bbb> </span><span style=color:#ba2121>&#34;Beijing&#34;</span>)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>                </span>.<span style=color:#7d9029>addTag</span>(<span style=color:#ba2121>&#34;ip&#34;</span>,<span style=color:#bbb> </span><span style=color:#ba2121>&#34;10.0.0.3&#34;</span>)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>                </span>.<span style=color:#7d9029>addField</span>(<span style=color:#ba2121>&#34;cpu&#34;</span>,<span style=color:#bbb> </span>Value.<span style=color:#7d9029>withDouble</span>(0.<span style=color:#7d9029>42</span>))<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>                </span>.<span style=color:#7d9029>addField</span>(<span style=color:#ba2121>&#34;mem&#34;</span>,<span style=color:#bbb> </span>Value.<span style=color:#7d9029>withDouble</span>(0.<span style=color:#7d9029>67</span>))<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>                </span>.<span style=color:#7d9029>build</span>();<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span>writeBuf.<span style=color:#7d9029>writeAndFlush</span>(Collections.<span style=color:#7d9029>singletonList</span>(streamData));<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span>t<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>t<span style=color:#666>+</span>1;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>}<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>final</span><span style=color:#bbb> </span>CompletableFuture<span style=color:#666>&lt;</span>WriteOk<span style=color:#666>&gt;</span><span style=color:#bbb> </span>writeOk<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>writeBuf.<span style=color:#7d9029>completed</span>();<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>Assert.<span style=color:#7d9029>assertEquals</span>(1000,<span style=color:#bbb> </span>writeOk.<span style=color:#7d9029>join</span>().<span style=color:#7d9029>getSuccess</span>());<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>final</span><span style=color:#bbb> </span>SqlQueryRequest<span style=color:#bbb> </span>streamQuerySql<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>SqlQueryRequest.<span style=color:#7d9029>newBuilder</span>()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span>.<span style=color:#7d9029>sql</span>(<span style=color:#ba2121>&#34;select * from %s where city = &#39;%s&#39; and ts &gt;= %d and ts &lt; %d&#34;</span>,<span style=color:#bbb> </span><span style=color:#ba2121>&#34;machine_table&#34;</span>,<span style=color:#bbb> </span><span style=color:#ba2121>&#34;Beijing&#34;</span>,<span style=color:#bbb> </span>start,<span style=color:#bbb> </span>t).<span style=color:#7d9029>build</span>();<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>final</span><span style=color:#bbb> </span>Result<span style=color:#666>&lt;</span>SqlQueryOk,<span style=color:#bbb> </span>Err<span style=color:#666>&gt;</span><span style=color:#bbb> </span>streamQueryResult<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>client.<span style=color:#7d9029>sqlQuery</span>(streamQuerySql).<span style=color:#7d9029>get</span>();<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>Assert.<span style=color:#7d9029>assertTrue</span>(streamQueryResult.<span style=color:#7d9029>isOk</span>());<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>Assert.<span style=color:#7d9029>assertEquals</span>(1000,<span style=color:#bbb> </span>streamQueryResult.<span style=color:#7d9029>getOk</span>().<span style=color:#7d9029>getRowCount</span>());<span style=color:#bbb>
</span></span></span></code></pre></td></tr></table></div></div><p>See <a href=https://github.com/apache/incubator-horaedb-client-java/tree/main/docs/streaming.md>streaming</a></p><div class=td-page-meta__lastmod>Last modified August 21, 2024: <a href=https://github.com/apache/horaedb-docs/commit/36785ca3da45c2b6ac45fbd16916ead7ef98b2cf>refactor: use hugo to build website (#132) (36785ca)</a></div></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class=td-footer__center>Apache HoraeDB is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.<hr><span class=td-footer__copyright>&copy;
2023&ndash;2024
<span class=td-footer__authors><p>The Apache Software Foundation, Licensed under the Apache License, Version 2.0.</p><p>Apache, the names of Apache projects, and the feather logo are either registered trademarks or trademarks of the Apache Software Foundation in the United States and/or other countries.</p></span></span><span class=td-footer__all_rights_reserved>All Rights Reserved</span></div></div></div></footer></div><script src=/js/main.min.f72d00502781aaf278a14088eb2356b1ba2a05ad698a0c43fe86314d74ceab56.js integrity="sha256-9y0AUCeBqvJ4oUCI6yNWsboqBa1pigxD/oYxTXTOq1Y=" crossorigin=anonymous></script><script defer src=/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script><script src=/js/tabpane-persist.js></script></body></html>