<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=cn class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=canonical type=text/html href=https://horaedb.apache.org/cn/blog/><link rel=alternate type=application/rss+xml href=https://horaedb.apache.org/cn/blog/index.xml><meta name=robots content="noindex, nofollow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>博客 | Apache HoraeDB</title><meta name=description content="一款高性能、分布式的云原生时序数据库"><meta property="og:url" content="https://horaedb.apache.org/cn/blog/"><meta property="og:site_name" content="Apache HoraeDB"><meta property="og:title" content="博客"><meta property="og:description" content="一款高性能、分布式的云原生时序数据库"><meta property="og:locale" content="cn"><meta property="og:type" content="website"><meta itemprop=name content="博客"><meta itemprop=description content="一款高性能、分布式的云原生时序数据库"><meta itemprop=dateModified content="2024-08-21T14:19:34+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="博客"><meta name=twitter:description content="一款高性能、分布式的云原生时序数据库"><link rel=preload href=/scss/main.min.5e43f8574351718e9b44966c9f3a571202ed048c082f457fb574c10b1a1bc56c.css as=style integrity="sha256-XkP4V0NRcY6bRJZsnzpXEgLtBIwIL0V/tXTBCxobxWw=" crossorigin=anonymous><link href=/scss/main.min.5e43f8574351718e9b44966c9f3a571202ed048c082f457fb574c10b1a1bc56c.css rel=stylesheet integrity="sha256-XkP4V0NRcY6bRJZsnzpXEgLtBIwIL0V/tXTBCxobxWw=" crossorigin=anonymous><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script><script defer src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script></head><body class="td-section td-blog"><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/cn/><span class="navbar-brand__logo navbar-logo"></span><span class=navbar-brand__name>Apache HoraeDB</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class=nav-item><a class=nav-link href=/cn/docs/><i class='fa-solid fa-book'></i><span>文档</span></a></li><li class=nav-item><a class=nav-link href=/cn/downloads/><i class='fa-solid fa-download'></i><span>下载</span></a></li><li class=nav-item><a class="nav-link active" href=/cn/blog/><i class='fa-brands fa-blogger'></i><span>博客</span></a></li><li class="nav-item dropdown d-none d-lg-block"><div class=dropdown><a class="nav-link dropdown-toggle" href=# role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false>中文</a><ul class=dropdown-menu><li><a class=dropdown-item href=/blog/>English</a></li></ul></div></li><li class="td-light-dark-menu nav-item dropdown"><svg class="d-none"><symbol id="check2" viewBox="0 0 16 16"><path d="M13.854 3.646a.5.5.0 010 .708l-7 7a.5.5.0 01-.708.0l-3.5-3.5a.5.5.0 11.708-.708L6.5 10.293l6.646-6.647a.5.5.0 01.708.0z"/></symbol><symbol id="circle-half" viewBox="0 0 16 16"><path d="M8 15A7 7 0 108 1v14zm0 1A8 8 0 118 0a8 8 0 010 16z"/></symbol><symbol id="moon-stars-fill" viewBox="0 0 16 16"><path d="M6 .278a.768.768.0 01.08.858 7.208 7.208.0 00-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527.0 1.04-.055 1.533-.16a.787.787.0 01.81.316.733.733.0 01-.031.893A8.349 8.349.0 018.344 16C3.734 16 0 12.286.0 7.71.0 4.266 2.114 1.312 5.124.06A.752.752.0 016 .278z"/><path d="M10.794 3.148a.217.217.0 01.412.0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217.0 010 .412l-1.162.387A1.734 1.734.0 0011.593 7.69l-.387 1.162a.217.217.0 01-.412.0l-.387-1.162A1.734 1.734.0 009.31 6.593l-1.162-.387a.217.217.0 010-.412l1.162-.387a1.734 1.734.0 001.097-1.097l.387-1.162zM13.863.099a.145.145.0 01.274.0l.258.774c.115.346.386.617.732.732l.774.258a.145.145.0 010 .274l-.774.258a1.156 1.156.0 00-.732.732l-.258.774a.145.145.0 01-.274.0l-.258-.774a1.156 1.156.0 00-.732-.732l-.774-.258a.145.145.0 010-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/></symbol><symbol id="sun-fill" viewBox="0 0 16 16"><path d="M8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 0zm0 13a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 13zm8-5a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2a.5.5.0 01.5.5zM3 8a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2A.5.5.0 013 8zm10.657-5.657a.5.5.0 010 .707l-1.414 1.415a.5.5.0 11-.707-.708l1.414-1.414a.5.5.0 01.707.0zm-9.193 9.193a.5.5.0 010 .707L3.05 13.657a.5.5.0 01-.707-.707l1.414-1.414a.5.5.0 01.707.0zm9.193 2.121a.5.5.0 01-.707.0l-1.414-1.414a.5.5.0 01.707-.707l1.414 1.414a.5.5.0 010 .707zM4.464 4.465a.5.5.0 01-.707.0L2.343 3.05a.5.5.0 11.707-.707l1.414 1.414a.5.5.0 010 .708z"/></symbol></svg>
<button class="btn btn-link nav-link dropdown-toggle d-flex align-items-center" id=bd-theme type=button aria-expanded=false data-bs-toggle=dropdown data-bs-display=static aria-label="Toggle theme (auto)">
<svg class="bi my-1 theme-icon-active"><use href="#circle-half"/></svg></button><ul class="dropdown-menu dropdown-menu-end" aria-labelledby=bd-theme-text><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=light aria-pressed=false>
<svg class="bi me-2 opacity-50"><use href="#sun-fill"/></svg>
Light
<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=dark aria-pressed=false>
<svg class="bi me-2 opacity-50"><use href="#moon-stars-fill"/></svg>
Dark
<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center active" data-bs-theme-value=auto aria-pressed=true>
<svg class="bi me-2 opacity-50"><use href="#circle-half"/></svg>
Auto
<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li></ul></li></ul></div><div class="d-none d-lg-block"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.f30b516f185ce404dc6ca8ec502fea64.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"></div><main class="col-12 col-md-9 col-xl-8 ps-md-5 pe-md-4" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>This is the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.</p><p><a href=/cn/blog/>Return to the regular view of this page</a>.</p></div><h1 class=title>博客</h1><ul><li><a href=#pg-e4fd354ddb7d7e5a7570c033405812c5>2.1.0 版本发布</a></li><li><a href=#pg-c982cc77916f2fc8647c387a0a7af271>Apache HoraeDB 与你相约北京理工大学</a></li><li><a href=#pg-67741b823b6fd9d5e9cee92ab233780e>Apache HoraeDB 与你相约 Community Over Code 北美大会</a></li><li><a href=#pg-dc5fe0a66ed04232a469f74ae1148c11>欢迎 Apache HoraeDB 新晋 Committer： 鲍金日</a></li><li><a href=#pg-b432dd3ce58969edcac72ac8dda30692>预告：第一次线上会议</a></li></ul><div class=content></div></div><div class=td-content><h1 id=pg-e4fd354ddb7d7e5a7570c033405812c5>2.1.0 版本发布</h1><div class="td-byline mb-4"><time datetime=2024-11-18 class=text-body-secondary>2024-11-18</time></div><p>Apache HoraeDB（孵化中）团队很高兴地宣布，v2.1.0 版本已于 2024-11-18 发布，这个版本解决了 60 多个问题，并且包括两个主要功能：</p><h2 id=1-引入基于本地磁盘的新-wal-实现>1. 引入基于本地磁盘的新 WAL 实现</h2><p>在之前的版本中，有一个基于 RocksDB 的 WAL。虽然它在大多数情况下运行良好，但存在以下问题：</p><ul><li>从源代码编译可能是一项具有挑战性的任务，尤其是因为 RocksDB 主要是用 C++ 编写的。</li><li>对于 WAL 而言，RocksDB 可能有些矫枉过正。如果你对 RocksDB 不熟悉，那么对它进行调整可能会非常具有挑战性。</li></ul><p>通过这个新的 WAL，就很好的解决了上面两个问题，而且在性能测试结果，新 WAL 的表现略优于之前的实现，给以后的优化打下了结实的基础。</p><p><figure><img src=/images/local-wal-write.png alt=写入速率对比 loading=lazy><figcaption><center>写入速率对比</center></figcaption></figure><figure><img src=/images/local-wal-replay.png alt=回放速率对比 loading=lazy><figcaption><center>回放速率对比</center></figcaption></figure></p><p>感兴趣的朋友可以参考<a href=https://horaedb.apache.org/cn/docs/design/wal_on_disk/>这里的设计文档</a>了解更多这个特性的细节。</p><h2 id=2-使用-apache-opendal-访问对象存储>2. 使用 Apache OpenDAL 访问对象存储</h2><p>Apache OpenDAL 是一个为访问各种数据存储后端提供统一 API 的项目。以下是一些主要优势：</p><ul><li>统一的 API：OpenDAL 为访问 AWS S3、Azure Blob Storage 和本地文件系统等不同存储后端提供了一致、统一的 API。</li><li>优化效率：OpenDAL 在构建时就考虑到了性能。它包括确保高效数据访问和操作的优化功能，使其适用于高性能应用程序。</li><li>全面的文档：该项目提供了详细的文档，使开发人员更容易上手并了解如何有效地使用该库。</li></ul><p>在较新版本的 OpenDAL 中，提供了 <code>object_store</code> 的<a href=https://github.com/apache/opendal/tree/main/integrations/object_store>集成</a>，这非常有利于 HoraeDB 的代码迁移，上层使用的 API 几乎没有发生变化，只需要将对象存储抽象为统一的 OpenDAL operator：</p><div class=highlight><div style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#408080;font-style:italic>// Create a new operator
</span></span></span><span style=display:flex><span><span style=color:#408080;font-style:italic></span><span style=color:green;font-weight:700>let</span><span style=color:#bbb> </span>operator<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>Operator::new(S3::default())<span style=color:#666>?</span>.finish();<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#408080;font-style:italic>// Create a new object store
</span></span></span><span style=display:flex><span><span style=color:#408080;font-style:italic></span><span style=color:green;font-weight:700>let</span><span style=color:#bbb> </span>object_store<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>Arc::new(OpendalStore::new(operator));<span style=color:#bbb>
</span></span></span></code></pre></td></tr></table></div></div><p>此外，由于 Apache OpenDAL 实现的 <code>object_store</code> 是基于最新版本的，相较于 HoraeDB 之前使用的版本，<code>object_store</code> 接口发生了变化，为了保证本次升级范围尽量可控，我们选择对其进行兼容。</p><p>对新 API 适配的过程中， <code>put_multipart</code> 接口变化最大，因此主要的适配逻辑也在这里，HoraeDB 的做法是：对底层的 <code>put_multipart</code> 接口进行了封装，保证上层代码无修改，具体细节可参考：</p><ul><li><a href=https://github.com/apache/horaedb/blob/v2.1.0/src/components/object_store/src/multi_part.rs>https://github.com/apache/horaedb/blob/v2.1.0/src/components/object_store/src/multi_part.rs</a></li></ul><blockquote><p>说明：在 parquet 最新版本中，写入路径上对新 <code>put_multipart</code> 接口适配程度较高，若用户使用的 parquet 版本 >= 52.0.0，则无需进行适配，若是更老的版本，可参考 HoraeDB 的适配实现。</p></blockquote><h2 id=下载>下载</h2><p>见<a href=/cn/downloads/>下载页面</a>。</p><h2 id=总结>总结</h2><p>其他错误修复和改进请参见此处：
<a href=https://github.com/apache/horaedb/releases/tag/v2.1.0>https://github.com/apache/horaedb/releases/tag/v2.1.0</a></p><blockquote><p>我们一如既往地热忱欢迎您加入<a href=/community>我们的社区</a>，分享您的真知灼见。</p></blockquote></div><div class=td-content style=page-break-before:always><h1 id=pg-c982cc77916f2fc8647c387a0a7af271>Apache HoraeDB 与你相约北京理工大学</h1><div class="td-byline mb-4"><time datetime=2024-10-24 class=text-body-secondary>2024-10-24</time></div><p>在数字化转型的浪潮中，开源软件人才的培养是信息技术创新发展的重要根基，高校学子作为我国开源生态的源头活水备受重视。10 月 26 日 CCF 开源发展委员会“开源高校行”活动将走进北京理工大学与高校师生交流分享，共同推进开源教育，建立产学研用一体化开源创新人才培养体系。诚邀您的参与！</p><p>Apache HoraeDB PPMC 成员 <a href=https://github.com/chunshao90>任春韶</a> 将带来 Optimizing Apache HoraeDB for High-Cardinality Metrics at AntGroup 为题的分享，欢迎在场的朋友前来观看、交流 🤝</p><h1 id=活动须知>活动须知</h1><ul><li>时间：2024 年 10 月 26 号 18:30-20:05</li><li>地点：北京理工大学良乡校区文萃楼 I 405</li></ul><p><figure><img src=/images/ccf-bit.jpg alt loading=lazy></figure></p></div><div class=td-content style=page-break-before:always><h1 id=pg-67741b823b6fd9d5e9cee92ab233780e>Apache HoraeDB 与你相约 Community Over Code 北美大会</h1><div class="td-byline mb-4"><time datetime=2024-10-07 class=text-body-secondary>2024-10-07</time></div><p>在数字化浪潮席卷全球的今天，开源软件已成为推动科技创新的核心驱动力。ApacheCon 作为全球最具影响力的开源盛会之一，每年都吸引着来自世界各地的开发者、技术专家和企业代表。</p><p>这次 <a href=https://communityovercode.org/>Community Over Code</a> 北美大会将在丹佛君悦大酒店举行为期四天的现场会议，重点讨论搜索、大数据、物联网、社区、地理空间、金融技术和许多其他主题。</p><p>Apache HoraeDB PPMC 成员 <a href=https://github.com/jiacai2050>jiacai2050</a> 将带来 Optimizing Apache HoraeDB for High-Cardinality Metrics at AntGroup 为题的分享，欢迎在场的朋友前来观看、交流 🤝</p><p><figure><img src=/images/coc-na-denver.jpg alt loading=lazy></figure></p><p>更多议程内容，可以参考官网的 <a href=https://communityovercode.org/schedule/>Sessions Schedule
</a>。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-dc5fe0a66ed04232a469f74ae1148c11>欢迎 Apache HoraeDB 新晋 Committer： 鲍金日</h1><div class="td-byline mb-4"><time datetime=2024-09-13 class=text-body-secondary>2024-09-13</time></div><p>各位开发者们，</p><p>今天很高兴宣布，HoraeDB 社区新增了一个 committer：<a href=https://github.com/baojinri>鲍金日</a>，他之前的贡献得到 HoraeDB PPMC 的<a href=https://lists.apache.org/thread/kqp9jl325b5crz9kt9t3o2bkzplhm7oz>一致认可</a>，并于 2024-09-10 投票成为 committer，感谢他一直以来的贡献。下面是他的贡献记录：</p><ul><li>33 PRs to <a href="https://github.com/apache/horaedb/pulls?q=is%3Apr+author%3Abaojinri+is%3Aclosed">main repo</a></li><li>4 PRs to <a href="https://github.com/apache/horaedb-docs/pulls?q=is%3Apr+author%3Abaojinri+is%3Aclosed">docs repo</a></li><li>13 PRs to <a href="https://github.com/apache/incubator-horaedb-meta/pulls?q=is%3Apr+author%3Abaojinri+is%3Aclosed">meta repo</a></li></ul><p>需要明确一点，成为 committer 并不需要额外做什么，主要是方便开发者后续可以更便利（有仓库写权限）地参与社区贡献。</p><p>最后，再次感谢鲍金日一直以来对社区的付出，衷心希望他能继续贡献，共同见证社区的成长。</p><p>欢迎更多感兴趣的朋友加入我们的<a href=/community>社区</a>，与我们近距离交流。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-b432dd3ce58969edcac72ac8dda30692>预告：第一次线上会议</h1><div class="td-byline mb-4"><time datetime=2024-08-21 class=text-body-secondary>2024-08-21</time></div><p>各位开发者们，</p><p>欢迎大家参加我们的第一次线上会议！这次会议标志着我们团队在项目开发过程中的一个重要里程碑，也是我们合作共赢的开始。</p><h1 id=会议目的>会议目的</h1><p>这次会议的主要目的是让大家相互认识，了解项目的总体目标，讨论开发的初步计划，并明确各自的角色和责任。我们希望通过此次会议，能够为接下来的工作奠定坚实的基础，并建立起一个高效、透明的沟通机制。</p><h1 id=主要议题>主要议题</h1><ol><li>Apache HoraeDB 项目现状介绍</li><li>新 Metric Engine 设计方案介绍</li></ol><h1 id=参会方式>参会方式</h1><p>入会链接：<a href=https://meeting.dingtalk.com/j/011mRkbIdqL>https://meeting.dingtalk.com/j/011mRkbIdqL</a></p><p>可通过浏览器直接入会，无需下载钉钉。</p><p>也欢迎感兴趣的朋友可以<a href=/community>加入我们的社区</a>（钉钉群、微信公众号等），获取社区最新动态。</p><h1 id=会议时间>会议时间</h1><p>2024 年 08 月 27 日 周二，21:00-22:00 (GMT+8)</p></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class=td-footer__center>Apache HoraeDB is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.<hr><span class=td-footer__copyright>&copy;
2023&ndash;2024
<span class=td-footer__authors><p>The Apache Software Foundation, Licensed under the Apache License, Version 2.0.</p><p>Apache, the names of Apache projects, and the feather logo are either registered trademarks or trademarks of the Apache Software Foundation in the United States and/or other countries.</p></span></span><span class=td-footer__all_rights_reserved>All Rights Reserved</span></div></div><hr><div class="row mx-md-2"><div class=td-footer__center><span class=td-footer__copyright>Found a bug in website? <a href=https://github.com/apache/horaedb-docs/issues/new>Open an issue</a> or <a href=https://github.com/apache/horaedb-docs/pulls>submit a pull request</a> on GitHub.</span></div></div><hr></div></footer></div><script src=/js/main.min.f72d00502781aaf278a14088eb2356b1ba2a05ad698a0c43fe86314d74ceab56.js integrity="sha256-9y0AUCeBqvJ4oUCI6yNWsboqBa1pigxD/oYxTXTOq1Y=" crossorigin=anonymous></script><script defer src=/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script><script src=/js/tabpane-persist.js></script></body></html>