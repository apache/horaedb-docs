<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>SQL 语法 on Apache HoraeDB</title><link>https://horaedb.apache.org/cn/docs/user-guide/sql/</link><description>Recent content in SQL 语法 on Apache HoraeDB</description><generator>Hugo</generator><language>cn</language><atom:link href="https://horaedb.apache.org/cn/docs/user-guide/sql/index.xml" rel="self" type="application/rss+xml"/><item><title>标识符</title><link>https://horaedb.apache.org/cn/docs/user-guide/sql/identifier/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://horaedb.apache.org/cn/docs/user-guide/sql/identifier/</guid><description>&lt;p>HoraeDB 中表名、列名等标识符不能是保留关键字或以数字和标点符号开始，不过 HoraeDB 允许用反引号引用标识符（`）。在这种情况下，它可以是任何字符串，如 &lt;code>00_table&lt;/code> 或 &lt;code>select&lt;/code>。&lt;/p></description></item><item><title>常用 SQL</title><link>https://horaedb.apache.org/cn/docs/user-guide/sql/utility/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://horaedb.apache.org/cn/docs/user-guide/sql/utility/</guid><description>&lt;p>HoraeDB 中有许多实用的 SQL 工具，可以辅助表操作或查询检查。&lt;/p>
&lt;h2 id="查看建表语句">查看建表语句&lt;/h2>
&lt;div class="highlight">&lt;div style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sql" data-lang="sql">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#008000;font-weight:bold">SHOW&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000;font-weight:bold">CREATE&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000;font-weight:bold">TABLE&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000;font-weight:bold">table_name&lt;/span>;&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>SHOW CREATE TABLE&lt;/code> 返回指定表的当前版本的创建语句，包括列定义、表引擎和参数选项等。例如：&lt;/p>
&lt;div class="highlight">&lt;div style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sql" data-lang="sql">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#408080;font-style:italic">-- create one table
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#408080;font-style:italic">&lt;/span>&lt;span style="color:#008000;font-weight:bold">CREATE&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000;font-weight:bold">TABLE&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#666">`&lt;/span>t&lt;span style="color:#666">`&lt;/span>&lt;span style="color:#bbb"> &lt;/span>(a&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000">bigint&lt;/span>,&lt;span style="color:#bbb"> &lt;/span>b&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000">int&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000;font-weight:bold">default&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#666">3&lt;/span>,&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000;font-weight:bold">c&lt;/span>&lt;span style="color:#bbb"> &lt;/span>string&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000;font-weight:bold">default&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#ba2121">&amp;#39;x&amp;#39;&lt;/span>,&lt;span style="color:#bbb"> &lt;/span>d&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000">smallint&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000;font-weight:bold">null&lt;/span>,&lt;span style="color:#bbb"> &lt;/span>t&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000;font-weight:bold">timestamp&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000;font-weight:bold">NOT&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000;font-weight:bold">NULL&lt;/span>,&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000;font-weight:bold">TIMESTAMP&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000;font-weight:bold">KEY&lt;/span>(t))&lt;span style="color:#bbb"> &lt;/span>ENGINE&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#666">=&lt;/span>&lt;span style="color:#bbb"> &lt;/span>Analytic;&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb">&lt;/span>&lt;span style="color:#408080;font-style:italic">-- Result: affected_rows: 0
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#408080;font-style:italic">&lt;/span>&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb">&lt;/span>&lt;span style="color:#408080;font-style:italic">-- show how one table should be created.
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#408080;font-style:italic">&lt;/span>&lt;span style="color:#008000;font-weight:bold">SHOW&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000;font-weight:bold">CREATE&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000;font-weight:bold">TABLE&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#666">`&lt;/span>t&lt;span style="color:#666">`&lt;/span>;&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb">&lt;/span>&lt;span style="color:#408080;font-style:italic">-- Result DDL:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#408080;font-style:italic">&lt;/span>&lt;span style="color:#008000;font-weight:bold">CREATE&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000;font-weight:bold">TABLE&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#666">`&lt;/span>t&lt;span style="color:#666">`&lt;/span>&lt;span style="color:#bbb"> &lt;/span>(&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#666">`&lt;/span>t&lt;span style="color:#666">`&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000;font-weight:bold">timestamp&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000;font-weight:bold">NOT&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000;font-weight:bold">NULL&lt;/span>,&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#666">`&lt;/span>tsid&lt;span style="color:#666">`&lt;/span>&lt;span style="color:#bbb"> &lt;/span>uint64&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000;font-weight:bold">NOT&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000;font-weight:bold">NULL&lt;/span>,&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#666">`&lt;/span>a&lt;span style="color:#666">`&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000">bigint&lt;/span>,&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#666">`&lt;/span>b&lt;span style="color:#666">`&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000">int&lt;/span>,&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#666">`&lt;/span>&lt;span style="color:#008000;font-weight:bold">c&lt;/span>&lt;span style="color:#666">`&lt;/span>&lt;span style="color:#bbb"> &lt;/span>string,&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#666">`&lt;/span>d&lt;span style="color:#666">`&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000">smallint&lt;/span>,&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000;font-weight:bold">PRIMARY&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000;font-weight:bold">KEY&lt;/span>(t,tsid),&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000;font-weight:bold">TIMESTAMP&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000;font-weight:bold">KEY&lt;/span>(t)&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb">&lt;/span>)&lt;span style="color:#bbb"> &lt;/span>ENGINE&lt;span style="color:#666">=&lt;/span>Analytic&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000;font-weight:bold">WITH&lt;/span>&lt;span style="color:#bbb"> &lt;/span>(&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>arena_block_size&lt;span style="color:#666">=&lt;/span>&lt;span style="color:#ba2121">&amp;#39;2097152&amp;#39;&lt;/span>,&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>compaction_strategy&lt;span style="color:#666">=&lt;/span>&lt;span style="color:#ba2121">&amp;#39;default&amp;#39;&lt;/span>,&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>compression&lt;span style="color:#666">=&lt;/span>&lt;span style="color:#ba2121">&amp;#39;ZSTD&amp;#39;&lt;/span>,&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>enable_ttl&lt;span style="color:#666">=&lt;/span>&lt;span style="color:#ba2121">&amp;#39;true&amp;#39;&lt;/span>,&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>num_rows_per_row_group&lt;span style="color:#666">=&lt;/span>&lt;span style="color:#ba2121">&amp;#39;8192&amp;#39;&lt;/span>,&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>segment_duration&lt;span style="color:#666">=&lt;/span>&lt;span style="color:#ba2121">&amp;#39;&amp;#39;&lt;/span>,&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>ttl&lt;span style="color:#666">=&lt;/span>&lt;span style="color:#ba2121">&amp;#39;7d&amp;#39;&lt;/span>,&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>update_mode&lt;span style="color:#666">=&lt;/span>&lt;span style="color:#ba2121">&amp;#39;OVERWRITE&amp;#39;&lt;/span>,&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>write_buffer_size&lt;span style="color:#666">=&lt;/span>&lt;span style="color:#ba2121">&amp;#39;33554432&amp;#39;&lt;/span>&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb">&lt;/span>)&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="查看表信息">查看表信息&lt;/h2>
&lt;div class="highlight">&lt;div style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sql" data-lang="sql">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#008000;font-weight:bold">DESCRIBE&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#008000;font-weight:bold">table_name&lt;/span>;&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>DESCRIBE&lt;/code> 语句返回一个表的详细结构信息，包括每个字段的名称和类型，字段是否为 &lt;code>Tag&lt;/code> 或主键，字段是否可空等。
此外，自动生成的字段 &lt;code>tsid&lt;/code> 也会展示在结果里。&lt;/p></description></item><item><title>配置项</title><link>https://horaedb.apache.org/cn/docs/user-guide/sql/engine_options/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://horaedb.apache.org/cn/docs/user-guide/sql/engine_options/</guid><description>&lt;p>建表时可以使用下列的选项配置引擎：&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>enable_ttl&lt;/code>：布尔类型，默认为 &lt;code>true&lt;/code>，当一个表配置 TTL 时，早于 &lt;code>ttl&lt;/code> 的数据不会被查询到并且会被删除。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>ttl&lt;/code>：&lt;code>duration&lt;/code> 类型，默认值为&lt;code>7d&lt;/code>，此项定义数据的生命周期，只在 &lt;code>enable_ttl&lt;/code> 为 &lt;code>true&lt;/code> 的情况下使用。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>storage_format&lt;/code>： &lt;code>string&lt;/code> 类型，数据存储的格式，有两种可选:&lt;/p>
&lt;ul>
&lt;li>&lt;code>columnar&lt;/code>, 默认值&lt;/li>
&lt;li>&lt;code>hybrid&lt;/code>, 注意：此功能仍在开发中，将来可能会发生变化。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>上述两种存储格式详见 &lt;a href="https://horaedb.apache.org/cn/docs/user-guide/sql/engine_options/#存储格式">存储格式&lt;/a> 部分。&lt;/p>
&lt;h2 id="存储格式">存储格式&lt;/h2>
&lt;p>HoraeDB 支持两种存储格式，一个是 &lt;code>columnar&lt;/code>, 这是传统的列式格式，一个物理列中存储表的一个列。&lt;/p>
&lt;div class="highlight">&lt;div style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-plaintext" data-lang="plaintext">&lt;span style="display:flex;">&lt;span>| Timestamp | Device ID | Status Code | Tag 1 | Tag 2 |
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>| --------- |---------- | ----------- | ----- | ----- |
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>| 12:01 | A | 0 | v1 | v1 |
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>| 12:01 | B | 0 | v2 | v2 |
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>| 12:02 | A | 0 | v1 | v1 |
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>| 12:02 | B | 1 | v2 | v2 |
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>| 12:03 | A | 0 | v1 | v1 |
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>| 12:03 | B | 0 | v2 | v2 |
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>| ..... | | | | |
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>另一个是 &lt;code>hybrid&lt;/code>, 当前还在实验阶段的存储格式，用于在列式存储中模拟面向行的存储，以加速经典的时序查询。&lt;/p></description></item><item><title>标量函数</title><link>https://horaedb.apache.org/cn/docs/user-guide/sql/scalar_functions/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://horaedb.apache.org/cn/docs/user-guide/sql/scalar_functions/</guid><description>&lt;p>HoraeDB SQL 基于 &lt;a href="https://github.com/CeresDB/arrow-datafusion">DataFusion&lt;/a> 实现，支持的标量函数如下。更多详情请参考： &lt;a href="https://github.com/CeresDB/arrow-datafusion/blob/master/docs/source/user-guide/sql/scalar_functions.md">Datafusion&lt;/a>&lt;/p>
&lt;h2 id="数值函数">数值函数&lt;/h2>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>函数&lt;/th>
 &lt;th>描述&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>abs(x)&lt;/td>
 &lt;td>绝对值&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>acos(x)&lt;/td>
 &lt;td>反余弦&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>asin(x)&lt;/td>
 &lt;td>反正弦&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>atan(x)&lt;/td>
 &lt;td>反正切&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>atan2(y, x)&lt;/td>
 &lt;td>y/x 的反正切&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>ceil(x)&lt;/td>
 &lt;td>小于或等于参数的最接近整数&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>cos(x)&lt;/td>
 &lt;td>余弦&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>exp(x)&lt;/td>
 &lt;td>指数&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>floor(x)&lt;/td>
 &lt;td>大于或等于参数的最接近整数&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>ln(x)&lt;/td>
 &lt;td>自然对数&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>log10(x)&lt;/td>
 &lt;td>以 10 为底的对数&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>log2(x)&lt;/td>
 &lt;td>以 2 为底的对数&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>power(base, exponent)&lt;/td>
 &lt;td>幂函数&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>round(x)&lt;/td>
 &lt;td>四舍五入&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>signum(x)&lt;/td>
 &lt;td>根据参数的正负返回 -1、0、+1&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>sin(x)&lt;/td>
 &lt;td>正弦&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>sqrt(x)&lt;/td>
 &lt;td>平方根&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>tan(x)&lt;/td>
 &lt;td>正切&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>trunc(x)&lt;/td>
 &lt;td>截断计算，取整（向零取整）&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;h2 id="条件函数">条件函数&lt;/h2>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>函数&lt;/th>
 &lt;th>描述&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>coalesce&lt;/td>
 &lt;td>如果它的参数中有一个不为 null，则返回第一个参数，如果所有参数均为 null，则返回 null。当从数据库中检索数据用于显示时，它经常用于用默认值替换 null 值。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>nullif&lt;/td>
 &lt;td>如果 value1 等于 value2，则返回 null 值；否则返回 value1。这可用于执行与 coalesce 表达式相反的操作&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;h2 id="字符函数">字符函数&lt;/h2>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>函数&lt;/th>
 &lt;th>描述&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>ascii&lt;/td>
 &lt;td>返回参数的第一个字符的 ascii 数字编码。在 UTF8 编码下，返回字符的 Unicode 码点。在其他多字节编码中，参数必须是 ASCII 字符。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>bit_length&lt;/td>
 &lt;td>返回字符串的比特位数。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>btrim&lt;/td>
 &lt;td>从字符串的开头和结尾删除给定字符串中的字符组成的最长字符串&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>char_length&lt;/td>
 &lt;td>等效于 length。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>character_length&lt;/td>
 &lt;td>等效于 length。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>concat&lt;/td>
 &lt;td>将两个或多个字符串合并为一个字符串。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>concat_ws&lt;/td>
 &lt;td>使用给定的分隔符组合两个值。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>chr&lt;/td>
 &lt;td>根据数字码返回字符。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>initcap&lt;/td>
 &lt;td>将字符串中每个单词的首字母大写。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>left&lt;/td>
 &lt;td>返回字符串的指定最左边字符。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>length&lt;/td>
 &lt;td>返回字符串中字符的数量。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>lower&lt;/td>
 &lt;td>将字符串中的所有字符转换为它们的小写。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>lpad&lt;/td>
 &lt;td>使用特定字符集将字符串左填充到给定长度。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>ltrim&lt;/td>
 &lt;td>从字符串的开头删除由字符中的字符组成的最长字符串（默认为空格）。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>md5&lt;/td>
 &lt;td>计算给定字符串的 MD5 散列值。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>octet_length&lt;/td>
 &lt;td>等效于 length。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>repeat&lt;/td>
 &lt;td>返回一个由输入字符串重复指定次数组成的字符串。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>replace&lt;/td>
 &lt;td>替换字符串中所有子字符串的出现为新子字符串。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>reverse&lt;/td>
 &lt;td>反转字符串。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>right&lt;/td>
 &lt;td>返回字符串的指定最右边字符。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>rpad&lt;/td>
 &lt;td>使用特定字符集将字符串右填充到给定长度。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>rtrim&lt;/td>
 &lt;td>从字符串的结尾删除包含 characters 中任何字符的最长字符串。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>digest&lt;/td>
 &lt;td>计算给定字符串的散列值。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>split_part&lt;/td>
 &lt;td>按指定分隔符拆分字符串，并从结果数组中返回&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>starts_with&lt;/td>
 &lt;td>检查字符串是否以给定字符串开始&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>strpos&lt;/td>
 &lt;td>搜索字符串是否包含一个给定的字符串，并返回位置&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>substr&lt;/td>
 &lt;td>提取子字符串&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>translate&lt;/td>
 &lt;td>把字符串翻译成另一种字符集 Translates one set of characters into another.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>trim&lt;/td>
 &lt;td>移除字符串两侧的空白字符或其他指定字符。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>upper&lt;/td>
 &lt;td>将字符串中的所有字符转换为它们的大写。&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;h2 id="正则函数">正则函数&lt;/h2>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>函数&lt;/th>
 &lt;th>描述&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>regexp_match&lt;/td>
 &lt;td>判断一个字符串是否匹配正则表达式&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>regexp_replace&lt;/td>
 &lt;td>使用新字符串替换正则匹配的字符串中内容&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;h2 id="时间函数">时间函数&lt;/h2>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>函数&lt;/th>
 &lt;th>描述&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>to_timestamp&lt;/td>
 &lt;td>将字符串转换为 Timestamp(Nanoseconds，None)类型。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>to_timestamp_millis&lt;/td>
 &lt;td>将字符串转换为 Timestamp(Milliseconds，None)类型。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>to_timestamp_micros&lt;/td>
 &lt;td>将字符串转换为 Timestamp(Microseconds，None)类型。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>to_timestamp_seconds&lt;/td>
 &lt;td>将字符串转换为 Timestamp(Seconds，None)类型。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>extract&lt;/td>
 &lt;td>从日期/时间值中检索年份或小时等子字段。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>date_part&lt;/td>
 &lt;td>从日期/时间值中检索子字段。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>date_trunc&lt;/td>
 &lt;td>将日期/时间值截断到指定的精度。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>date_bin&lt;/td>
 &lt;td>将日期/时间值按指定精度进行分组。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>from_unixtime&lt;/td>
 &lt;td>将 Unix 时代转换为 Timestamp(Nanoseconds，None)类型。&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>now&lt;/td>
 &lt;td>作为 Timestamp(Nanoseconds，UTC)返回当前时间。&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;h2 id="其他函数">其他函数&lt;/h2>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>Function&lt;/th>
 &lt;th>描述&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>array&lt;/td>
 &lt;td>创建有一个数组&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>arrow_typeof&lt;/td>
 &lt;td>返回内置的数据类型&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>in_list&lt;/td>
 &lt;td>检测数值是否在 list 里面&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>random&lt;/td>
 &lt;td>生成随机值&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>sha224&lt;/td>
 &lt;td>sha224&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>sha256&lt;/td>
 &lt;td>sha256&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>sha384&lt;/td>
 &lt;td>sha384&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>sha512&lt;/td>
 &lt;td>sha512&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>to_hex&lt;/td>
 &lt;td>转换为 16 进制&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table></description></item><item><title>聚合函数</title><link>https://horaedb.apache.org/cn/docs/user-guide/sql/aggregate_functions/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://horaedb.apache.org/cn/docs/user-guide/sql/aggregate_functions/</guid><description>&lt;p>HoraeDB SQL 基于 &lt;a href="https://github.com/apache/arrow-datafusion">DataFusion&lt;/a> 实现，支持的聚合函数如下。更多详情请参考： &lt;a href="https://github.com/apache/arrow-datafusion/blob/master/docs/source/user-guide/sql/aggregate_functions.md">Datafusion&lt;/a>&lt;/p>
&lt;h2 id="常用">常用&lt;/h2>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>函数&lt;/th>
 &lt;th>描述&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>min&lt;/td>
 &lt;td>最小值&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>max&lt;/td>
 &lt;td>最大值&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>count&lt;/td>
 &lt;td>求行数&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>avg&lt;/td>
 &lt;td>平均值&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>sum&lt;/td>
 &lt;td>求和&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>array_agg&lt;/td>
 &lt;td>把数据放到一个数组&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;h2 id="统计">统计&lt;/h2>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>函数&lt;/th>
 &lt;th>描述&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>var / var_samp&lt;/td>
 &lt;td>返回给定列的样本方差&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>var_pop&lt;/td>
 &lt;td>返回给定列的总体方差&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>stddev / stddev_samp&lt;/td>
 &lt;td>返回给定列的样本标准差&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>stddev_pop&lt;/td>
 &lt;td>返回给定列的总体标准差&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>covar / covar_samp&lt;/td>
 &lt;td>返回给定列的样本协方差&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>covar_pop&lt;/td>
 &lt;td>返回给定列的总体协方差&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>corr&lt;/td>
 &lt;td>返回给定列的相关系数&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;h2 id="估值函数">估值函数&lt;/h2>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>函数&lt;/th>
 &lt;th>描述&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>approx_distinct&lt;/td>
 &lt;td>返回输入值的近似去重数量（HyperLogLog）&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>approx_median&lt;/td>
 &lt;td>返回输入值的近似中位数，它是 approx_percentile_cont(x, 0.5) 的简单写法&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>approx_percentile_cont&lt;/td>
 &lt;td>返回输入值的近似百分位数（TDigest），其中 p 是 0 和 1（包括）之间的 float64，等同于 approx_percentile_cont_with_weight(x, 1, p)&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>approx_percentile_cont_with_weight&lt;/td>
 &lt;td>返回输入值带权重的近似百分位数（TDigest），其中 w 是权重列表达式，p 是 0 和 1（包括）之间的 float64&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table></description></item></channel></rss>